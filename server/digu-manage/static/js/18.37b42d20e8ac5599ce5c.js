webpackJsonp([18],{ewby:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("mvHQ"),a=r.n(i),n=(r("DHmE"),r("WfbR"),{name:"hotwordYhView",components:{},data:function(){return{memberId:"",dictionaryId:"",searchForm:{queryKey:""},disabled:!0,multipleSelection:[],sortList:[],cur_page:1,pagination:{show:!0,total:0,pageIndex:1,pageSize:10},tableData:[],fullScreenLoading:null,validIndustryListData:[],dictionaryListData:[],copyVisible:!1,copyForm:{dictionaryId:"",industryScope:""},copyFormRules:{dictionaryId:[{required:!0,message:"词典名称不能为空！"}],industryScope:[{required:!0,message:"行业领域不能为空！"}]},errorVisible:!1,errorTitle:"",errorText:"",height:0}},created:function(){this.dictionaryId=this.$route.params.id,this.memberId=this.$route.params.memberId;var e=document.documentElement.clientHeight;this.height=e-310,this.handleQueryEntryList()},computed:{},methods:{handleBack:function(){this.$router.push("/hotwordYh/"+this.memberId)},handleSearch:function(){if(!this.searchForm.queryKey)return this.$message.error("请输入关键字！"),!1;this.handleQueryEntryList()},handleSearchChange:function(e){e||this.handleQueryEntryList()},handleSortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}],this.handleQueryEntryList()},handleSelectionChange:function(e){this.multipleSelection=[],this.multipleSelection=e,this.multipleSelection.length?this.disabled=!1:this.disabled=!0},handleCurrentChange:function(e){this.cur_page=e,this.handleQueryEntryList()},handleSizeChange:function(e){this.pagination.pageSize=e,this.handleQueryEntryList()},handleQueryEntryList:function(){var e=this,t=$.extend({},{currentPage:this.cur_page-1,pageSize:this.pagination.pageSize,dictionaryId:this.dictionaryId});this.searchForm.queryKey&&(t.queryKey=this.searchForm.queryKey),this.sortList&&(t.sortList=this.sortList),$.post(this.$baseUrl+"services/hotWord/queryEntryList.json",a()(t)).then(function(t){"0000"===t.resultMessageEnum?(e.tableData=t.returnObject.recordList,e.pagination.total=t.returnObject.totalNumber):e.$message.error(t.errorInfoList[0].errorMessage)})},handleCopy:function(e,t){this.queryValidIndustryList(),this.copyVisible=!0},handleConfirmCopy:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var r=t.multipleSelection.map(function(e){return e}),i={dictionaryId:t.copyForm.dictionaryId,industryScope:t.copyForm.industryScope,entryPOs:r};$.post(t.$baseUrl+"services/hotWord/copyEntry.json",a()(i)).then(function(e){"0000"==e.resultMessageEnum?(t.copyVisible=!1,t.$message.success("复制词条成功！")):("090001"==e.errorInfoList[0].errorMessageEnum?(t.errorVisible=!0,t.errorTitle="原有词冲突"):"090002"==e.errorInfoList[0].errorMessageEnum?(t.errorVisible=!0,t.errorTitle="原有词冲突"):"090003"==e.errorInfoList[0].errorMessageEnum?(t.errorVisible=!0,t.errorTitle="目标词冲突"):t.$message.error(e.errorInfoList[0].errorMessage),t.errorText=e.resultMessage)})})},queryDictionaryList:function(e){var t=this,r={dictionaryType:1,industryScope:e};$.post(this.$baseUrl+"services/hotWord/queryDictionaryListByField.json",a()(r)).then(function(e){"0000"===e.resultMessageEnum?t.dictionaryListData=e.returnObject:t.$message.error(e.errorInfoList[0].errorMessage)})},queryValidIndustryList:function(){var e=this;$.get(this.$baseUrl+"services/intention/queryValidIndustryList.json").then(function(t){"0000"==t.resultMessageEnum&&(e.validIndustryListData=t.returnObject)})},openFullScreenLoading:function(e){this.fullScreenLoading=this.$loading({lock:!0,text:e+"...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}},watch:{}}),o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-admin"},[r("div",{staticClass:"admin-page"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[e._v("管理中心")]),e._v(" "),r("el-breadcrumb-item",[e._v("热词管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("用户词典")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看词典")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看")]),e._v(" "),r("el-breadcrumb-item",[e._v("查看词条")])],1),e._v(" "),r("el-button",{staticClass:"back-btn",on:{click:e.handleBack}},[e._v("返回")])],1),e._v(" "),r("div",{staticClass:"admin-body"},[r("div",{staticClass:"speech-tab-pane"},[r("el-row",[r("el-form",{ref:"searchForm",attrs:{model:e.searchForm,inline:!0}},[r("el-form-item",{attrs:{label:"关键词:",prop:"queryKey"}},[r("el-input",{attrs:{clearable:"",placeholder:"目标词"},on:{change:e.handleSearchChange},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.handleSearch(t):null}},model:{value:e.searchForm.queryKey,callback:function(t){e.$set(e.searchForm,"queryKey",t)},expression:"searchForm.queryKey"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),r("el-row",{staticStyle:{"padding-bottom":"20px"}},[r("el-col",[r("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.handleCopy}},[e._v("复制")])],1)],1),e._v(" "),r("el-row",[r("el-table",{staticClass:"table",attrs:{data:e.tableData,height:e.height,pagination:e.pagination,stripe:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[r("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:"目标词",prop:"targetWord",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{label:"原有词",prop:"sourceWord"}}),e._v(" "),r("el-table-column",{attrs:{sortable:"",prop:"editTime",label:"更新时间",width:"180"}})],1)],1),e._v(" "),r("div",{staticClass:"pagination"},[r("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total,"page-size":e.pagination.pageSize,"page-sizes":[10,50,100,200]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),r("el-dialog",{attrs:{title:"复制词条到行业词典",visible:e.copyVisible,width:"460px"},on:{"update:visible":function(t){e.copyVisible=t}}},[r("div",{staticClass:"addIntent-box"},[r("el-form",{ref:"copyForm",attrs:{model:e.copyForm,rules:e.copyFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"行业领域：",prop:"industryScope"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择行业领域"},on:{change:function(t){return e.queryDictionaryList(e.copyForm.industryScope)}},model:{value:e.copyForm.industryScope,callback:function(t){e.$set(e.copyForm,"industryScope",t)},expression:"copyForm.industryScope"}},e._l(e.validIndustryListData,function(e){return r("el-option",{key:e.id,attrs:{label:e.industryName,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"词典名称：",prop:"dictionaryId"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择词典名称"},model:{value:e.copyForm.dictionaryId,callback:function(t){e.$set(e.copyForm,"dictionaryId",t)},expression:"copyForm.dictionaryId"}},e._l(e.dictionaryListData,function(e){return r("el-option",{key:e.id,attrs:{label:e.dictionaryName,value:e.id}})}),1)],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.copyVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleConfirmCopy("copyForm")}}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{staticClass:"creatDialog",attrs:{visible:e.errorVisible,width:"460px"},on:{"update:visible":function(t){e.errorVisible=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-warning"}),e._v(e._s(e.errorTitle)+"\n        ")]),e._v("\n        "+e._s(e.errorText)+"\n        "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.errorVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var s=r("VU/8")(n,o,!1,function(e){r("gW4S")},"data-v-b1b35cec",null);t.default=s.exports},gW4S:function(e,t){}});