webpackJsonp([26],{LEj1:function(e,t){},MoGF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("mvHQ"),s=i.n(n),o=i("DHmE"),a={name:"dashboard",components:{wVideo:i("nasK").a},data:function(){return{memberId:"",groupId:"",queryKey:"",multipleSelection:[],soundYhYpData:[],sortList:[],cur_page:1,activeIndex:0,selectOpt:[],pagination:{show:!0,total:0,pageIndex:1,pageSize:10},downDisabled:!0,expDisabled:!0,videoVisible:!1,viewSource:"",viewPlaying:!1}},created:function(){this.$route.params.memberId&&(this.memberId=this.$route.params.memberId),this.$route.params.groupId&&(this.groupId=this.$route.params.groupId),this.queryMemberSoundConfigItemList()},methods:{handleBack:function(){this.$router.push("/sound/yh/"+this.memberId)},onSearch:function(){this.activeIndex=0,this.industryId="",this.queryMemberSoundConfigItemList()},searchChange:function(e){e||this.queryMemberSoundConfigItemList()},sortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}],this.queryMemberSoundConfigItemList()},handleSelectionChange:function(e){this.multipleSelection=[],this.multipleSelection=e,this.multipleSelection.length?(this.downDisabled=!1,this.expDisabled=!1):(this.downDisabled=!0,this.expDisabled=!0)},handleCurrentChange:function(e){this.cur_page=e,this.queryMemberSoundConfigItemList()},handleSizeChange:function(e){this.pagination.pageSize=e,this.queryMemberSoundConfigItemList()},queryMemberSoundConfigItemList:function(){var e=this,t={memberId:this.memberId,configGroupId:this.groupId,currentPage:this.cur_page-1,pageSize:this.pagination.pageSize},i=this.queryKey;i&&(t.queryKey=i),this.sortList.length&&(t.sortList=this.sortList),$.post(this.$baseUrl+"services/sound/queryMemberSoundConfigItemList.json",s()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.pagination.total=t.returnObject.totalNumber,e.soundYhYpData=t.returnObject.recordList):e.$message.error(t.errorInfoList[0].errorMessage)})},exportSoundZipFile:function(){var e=this,t=[];this.multipleSelection.length&&this.multipleSelection.forEach(function(e){t.push(e.id)});var i={soundConfigGroupList:[],soundConfigItemIdList:t};$.post(this.$baseUrl+"services/file/createSoundCompressFile.json",s()(i)).then(function(t){"0000"==t.resultMessageEnum?(window.location.href=e.$baseUrl+"services/file/downloadCompressFile.html?filePath="+t.returnObject.filePath,e.$message.success("导出成功！")):e.$message.error(t.errorInfoList[0].errorMessage)})},downloadSoundConfigItemExcelFile:function(){var e=this,t=[];this.multipleSelection.length&&this.multipleSelection.forEach(function(e){t.push(e.id)});var i={soundConfigGroupList:[],soundConfigItemIdList:t};$.post(this.$baseUrl+"services/file/createSoundCompressExcelFile.json",s()(i)).then(function(t){"0000"==t.resultMessageEnum?(window.location.href=e.$baseUrl+"services/file/downloadCompressFile.html?filePath="+t.returnObject.filePath,e.$message.success("下载成功！")):e.$message.error(t.errorInfoList[0].errorMessage)})},handleVideo:function(e,t){var i=this;this.videoVisible=!0,this.$nextTick(function(){i.viewSource=t.soundPath})}},computed:{},watch:{videoVisible:function(e){e||o.a.$emit("viewPlaying",!0)}},destroyed:function(){}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-admin"},[i("div",{staticClass:"admin-page"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("管理中心")]),e._v(" "),i("el-breadcrumb-item",[e._v("资源管理")]),e._v(" "),i("el-breadcrumb-item",[e._v("音频库")]),e._v(" "),i("el-breadcrumb-item",[e._v("用户音频库")]),e._v(" "),i("el-breadcrumb-item",[e._v("查看用户音频库")])],1),e._v(" "),i("el-button",{staticClass:"back-btn",on:{click:e.handleBack}},[e._v("返回")])],1),e._v(" "),i("div",{staticClass:"admin-body"},[i("div",{staticClass:"speech-tab-pane"},[i("div",[i("el-row",[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"关键词:"}},[i("el-input",{attrs:{clearable:"",placeholder:"音频名称/文本内容"},on:{change:e.searchChange},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.onSearch(t):null}},model:{value:e.queryKey,callback:function(t){e.queryKey=t},expression:"queryKey"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"padding-bottom":"20px"}},[i("el-col",[i("el-button",{attrs:{type:"primary",disabled:e.downDisabled},on:{click:e.exportSoundZipFile}},[e._v("下载音频")]),e._v(" "),i("el-button",{attrs:{type:"primary",disabled:e.expDisabled},on:{click:e.downloadSoundConfigItemExcelFile}},[e._v("下载表格")])],1)],1),e._v(" "),i("el-row",[i("el-col",[i("el-table",{staticStyle:{width:"100%","border-left":"1px solid #ebeef5"},attrs:{stripe:"",data:e.soundYhYpData},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",label:"音频名称",prop:"fileName",width:"140"}}),e._v(" "),i("el-table-column",{attrs:{label:"文本内容",prop:"soundContent"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"video-edit-box"},[i("i",{staticClass:"iconfont icon-icon_play",on:{click:function(i){return e.handleVideo(t.$index,t.row)}}}),e._v(" "),i("span",{staticClass:"video-edit-box-text"},[e._v(e._s(t.row.soundContent))])])]}}])}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"editTime",width:"140",label:"更新时间"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total,"page-size":e.pagination.pageSize,"page-sizes":[10,50,100,200]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])]),e._v(" "),i("el-dialog",{attrs:{title:"音频",visible:e.videoVisible,width:"600px","append-to-body":!0},on:{"update:visible":function(t){e.videoVisible=t}}},[i("w-video",{attrs:{source:e.viewSource,playing:e.viewPlaying}})],1)],1)},staticRenderFns:[]};var l=i("VU/8")(a,r,!1,function(e){i("LEj1")},"data-v-2950fd14",null);t.default=l.exports}});