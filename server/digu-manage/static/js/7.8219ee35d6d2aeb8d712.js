webpackJsonp([7],{B051:function(e,t){},C2f6:function(e,t){},GUNr:function(e,t){},SSUW:function(e,t){},Vi8S:function(e,t){},fkbY:function(e,t){},z15k:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("mvHQ"),a=i.n(n),s=i("bOdI"),r=i.n(s),o=i("DHmE"),l=(i("RJSf"),i("WfbR")),c={name:"dashboard",data:function(){return{cerActiveName:"first",searchForm:{speechcraftStatusList:"",queryKey:""},speechcraftStatusList:["2","4","6","7"],certiFicationTableData:[],sortList:[],cur_page:1,pagination:{show:!0,total:0,pageIndex:1,pageSize:20}}},computed:{},created:function(){var e=this;o.a.$on("collapse",function(t){e.collapse=t}),this.querySpeechcraftList()},watch:{},methods:{handleTabClick:function(e){"first"==this.cerActiveName?this.speechcraftStatusList=["2","4","6","7"]:this.speechcraftStatusList=["5"],this.sortList=[],this.querySpeechcraftList()},onSearch:function(){this.querySpeechcraftList()},onRefresh:function(){this.searchForm.speechcraftStatusList="",this.searchForm.queryKey="",this.dateValue="",this.sortList=[],"first"==this.cerActiveName?this.speechcraftStatusList=["2","4","6","7"]:this.speechcraftStatusList=["5"],this.querySpeechcraftList()},typeChange:function(e){},sortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}],this.querySpeechcraftList()},querySpeechcraftList:function(){var e=this,t={templateType:"2",speechcraftStatusList:this.speechcraftStatusList,currentPage:this.cur_page-1,pageSize:this.pagination.pageSize};if(this.searchForm.queryKey&&(t.queryKey=this.searchForm.queryKey),this.searchForm.speechcraftStatusList){var i=[];i[0]=this.searchForm.speechcraftStatusList,t.speechcraftStatusList=i}this.sortList.length&&(t.sortList=this.sortList),$.post(this.$baseUrl+"services/speechcraft/querySpeechcraftList.json",a()(t)).then(function(t){if("0000"==t.resultMessageEnum){var i=t.returnObject.recordList||[];e.certiFicationTableData=i,e.pagination.total=t.returnObject.totalNumber}else e.$message.error(t.errorInfoList[0].errorMessage)})},handleCurrentChange:function(e){this.cur_page=e,this.querySpeechcraftList()},formatterSpeechcraftStatus:function(e,t){return l.a.formatterSpeechcraftStatus(e.speechcraftStatus)},handleView:function(e,t){var i="?phase=1";"second"==this.cerActiveName&&(i="?phase=2");var n="/speech/"+t.speechcraftId+i;this.$router.push(n)}},destroyed:function(){}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"speech-tab-pane"},[i("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.cerActiveName,callback:function(t){e.cerActiveName=t},expression:"cerActiveName"}},[i("el-tab-pane",{attrs:{label:"待处理",name:"first"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"已处理",name:"second"}})],1),e._v(" "),i("div",[i("el-row",[i("el-col",{attrs:{span:2}},[i("el-button",{on:{click:e.onRefresh}},[e._v("刷新")])],1),e._v(" "),i("el-col",{staticStyle:{"text-align":"right"},attrs:{offset:2,span:20}},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"待处理"==e.cerActiveName,expression:"cerActiveName=='待处理'"}],attrs:{label:"审核状态"}},[i("el-select",{attrs:{placeholder:"审核状态"},on:{change:e.typeChange},model:{value:e.searchForm.speechcraftStatusList,callback:function(t){e.$set(e.searchForm,"speechcraftStatusList",t)},expression:"searchForm.speechcraftStatusList"}},[i("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),i("el-option",{attrs:{label:"待审核",value:"2"}}),e._v(" "),i("el-option",{attrs:{label:"待重审",value:"7"}}),e._v(" "),i("el-option",{attrs:{label:"已驳回",value:"6"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"关键词"}},[i("el-input",{attrs:{placeholder:"话术名称"},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.onSearch(t):null}},model:{value:e.searchForm.queryKey,callback:function(t){e.$set(e.searchForm,"queryKey",t)},expression:"searchForm.queryKey"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.certiFicationTableData},on:{"sort-change":e.sortChange}},[i("el-table-column",{attrs:{prop:"speechcraftName",label:"话术名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"speechcraftStatus",label:"审核状态",formatter:e.formatterSpeechcraftStatus,width:"180"}}),e._v(" "),i("el-table-column",{directives:[{name:"show",rawName:"v-show",value:"first"==e.cerActiveName,expression:"cerActiveName=='first'"}],attrs:{prop:"latestApproveEndTime",label:"截止时间",sortable:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{class:2==t.row.timeOverType?"warning":3==t.row.timeOverType?"danger":"default"},[e._v("\n                        "+e._s(t.row.latestApproveEndTime)+"\n                    ")])]}}])}),e._v(" "),i("el-table-column",{directives:[{name:"show",rawName:"v-show",value:"second"==e.cerActiveName,expression:"cerActiveName=='second'"}],attrs:{prop:"latestApproveTime",label:"审核时间",sortable:"",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[2==t.row.speechcraftStatus?i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleView(t.$index,t.row)}}},[e._v("审核")]):7==t.row.speechcraftStatus?i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleView(t.$index,t.row)}}},[e._v("重审")]):i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleView(t.$index,t.row)}}},[e._v("查看")])],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var u=i("VU/8")(c,p,!1,function(e){i("C2f6")},"data-v-324ee1b4",null).exports,h={name:"dashboard",data:function(){return{keyword:"",type:"1",fileName:"",multipleSelection:[],disabled:!0,intentTyData:[],sortList:[],cur_page:1,delIntentVisible:!1,importIntentVisible:!1,importEntenVisible:!1,errorMsg:"",importFilePath:"",importFileLength:0,importFileErrorLength:0,pagination:{show:!0,total:0,pageIndex:1,pageSize:20}}},computed:{},created:function(){this.queryIntentionSpeechcraftManageList()},watch:{},methods:{onSearch:function(){this.queryIntentionSpeechcraftManageList()},searchChange:function(e){e||this.queryIntentionSpeechcraftManageList()},sortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}]},handleAdd:function(){this.$router.push("/speech/add")},handleSelectionChange:function(e){this.multipleSelection=[],this.multipleSelection=e,this.multipleSelection.length?this.disabled=!1:this.disabled=!0},handleCurrentChange:function(e){this.cur_page=e,this.queryIntentionSpeechcraftManageList()},handleImport:function(){},handleEdit:function(e,t){this.$router.push("/speech/add/"+e.id)},importIntentEnter:function(){1*this.importFileLength>0?(this.importIntentVisible=!1,this.importEntenVisible=!0):this.$message.error("请重新选择导入文件！")},queryIntentionSpeechcraftManageList:function(){var e=this,t={intentionType:this.type,currentPage:this.cur_page-1,pageSize:this.pagination.pageSize},i=this.keyword;i&&(t.keyword=i),this.sortList&&(t.sortList=this.sortList),$.post(this.$baseUrl+"services/intention/queryIntentionSpeechcraftManageList.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.pagination.total=t.returnObject.totalNumber,e.intentTyData=t.returnObject.recordList):e.$message.error(t.errorInfoList[0].errorMessage)})},removeIntentionSpeechcraftList:function(){var e=this,t=this.multipleSelection.map(function(e){return e.id});$.post(this.$baseUrl+"services/intention/removeIntentionSpeechcraftList.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.delIntentVisible=!1,e.queryIntentionSpeechcraftManageList()):e.$message.error(t.errorInfoList[0].errorMessage)})},importIntentionExcelFileList:function(){var e=this,t=new FormData;t.append("intentionType",1),t.append("file",$("#importInput")[0].files[0]),$("#importInput").val(""),$.ajax({url:e.$baseUrl+"services/intention/importIntentionExcelFileList.json",type:"POST",cache:!1,data:t,dataType:"json",headers:{"Content-Type":"multipart/form-data"},processData:!1,contentType:!1,async:!1}).done(function(t){"0000"==t.resultMessageEnum?(e.importEntenVisible=!1,e.$message.success("语料上传成功"+e.importFileLength+"条！失败"+e.importFileErrorLength+"条！"),e.queryIntentionSpeechcraftManageList()):e.errorMsg=t.errorInfoList[0].errorMessage})},createExportIntentionExcelFile:function(){var e=this,t=this.multipleSelection.map(function(e){return e.id}),i={intentionType:this.type,intentionIdList:t};$.post(this.$baseUrl+"services/intention/createExportIntentionExcelFile.json",a()(i)).then(function(t){"0000"==t.resultMessageEnum?e.downloadFile(t.returnObject.filePath):e.$message.error(t.errorInfoList[0].errorMessage)})},downloadFile:function(e){var t=e;window.location.href=this.$baseUrl+"services/file/downloadFile.html?filePath="+t},fileChange:function(e){var t=this,i=new FormData;i.append("sourceType",102),i.append("file",$("#importInput")[0].files[0]),this.fileName=$("#importInput").val(),$.ajax({url:t.$baseUrl+"services/common/uploadAnnexFile.json",type:"POST",cache:!1,data:i,dataType:"json",headers:{"Content-Type":"multipart/form-data"},processData:!1,contentType:!1,async:!1}).done(function(e){"0000"==e.resultMessageEnum?(t.importFilePath=e.returnObject,t.checkIntentionExcelFileList()):t.$message.error("上传失败！")})},checkIntentionExcelFileList:function(){var e=this,t=new FormData;t.append("intentionType",1),t.append("file",$("#importInput")[0].files[0]),$.ajax({url:e.$baseUrl+"services/intention/checkIntentionExcelFileList.json",type:"POST",cache:!1,data:t,dataType:"json",headers:{"Content-Type":"multipart/form-data"},processData:!1,contentType:!1,async:!1}).done(function(t){"0000"==t.resultMessageEnum?(e.importFileLength=t.returnObject.correctRowNumber,e.errorMsg="成功导入"+e.importFileLength+"条。"):e.errorMsg=t.errorInfoList[0].errorMessage})}},destroyed:function(){}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"speech-tab-pane"},[i("div",[i("el-row",[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"关键词:"}},[i("el-input",{attrs:{placeholder:"ID／意图名称"},on:{change:e.searchChange},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"padding-bottom":"20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),i("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){e.delIntentVisible=!0}}},[e._v("删除")]),e._v(" "),i("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.createExportIntentionExcelFile}},[e._v("导出")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.importIntentVisible=!0}}},[e._v("导入")])],1),e._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.intentTyData},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"id",width:"240",label:"ID"}}),e._v(" "),i("el-table-column",{attrs:{prop:"intentionName",label:"意图名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"更新时间"}}),e._v(" "),i("el-table-column",{attrs:{prop:"creator",label:"操作人",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{width:"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleEdit(t.row,t.$index)}}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),i("el-dialog",{staticClass:"addQuestion",attrs:{title:"删除意图",visible:e.delIntentVisible,width:"400px"},on:{"update:visible":function(t){e.delIntentVisible=t}}},[i("div",[e._v("您确定要删除已选中的"+e._s(this.multipleSelection.length)+"个意图吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delIntentVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.removeIntentionSpeechcraftList}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"导入通用意图",visible:e.importEntenVisible,width:"400px"},on:{"update:visible":function(t){e.importEntenVisible=t}}},[i("div",[e._v("本次导入将新增"+e._s(e.importFileLength)+"个意图，确定继续导入吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.importEntenVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.importIntentionExcelFileList}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"导入通用意图",visible:e.importIntentVisible,width:"400px"},on:{"update:visible":function(t){e.importIntentVisible=t}}},[i("div",[i("el-row",[i("el-col",{staticClass:"import-pop-file",attrs:{span:3}},[i("i",{staticClass:"el-icon-tickets"})]),e._v(" "),i("el-col",{staticClass:"fileCol",attrs:{span:20}},[i("span",{staticClass:"import-tip top"},[e._v(e._s(e.errorMsg))]),e._v(" "),i("el-input",{attrs:{type:"text"},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),e._v(" "),i("input",{staticClass:"fileInput",attrs:{type:"file",id:"importInput",placeholder:"选择本地文件"},on:{change:e.fileChange}}),e._v(" "),i("span",{staticClass:"import-tip"},[e._v("注：格式excel、txt,文件大小必须控制在5M以内")])],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.importIntentVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.importIntentEnter}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var m={name:"dashboard",data:function(){return{keyword:"",type:"2",fileName:"",industryId:"",multipleSelection:[],disabled:!0,intentTyData:[],sortList:[],cur_page:1,delIntentVisible:!1,importIntentVisible:!1,importEntenVisible:!1,releaseVisible:!1,releaseOneVisible:!1,addIntentVisible:!1,releaseRow:{},errorMsg:"",importFilePath:"",importFileLength:0,importFileErrorLength:0,validIndustryListData:[],activeIndex:0,addForm:{intentionName:"",industryType:""},addFormRules:{intentionName:[{required:!0,message:"意图名称不能为空！"}],industryType:[{required:!0,message:"请选择行业领域！"}]},importForm:{intentionName:"",industryType:""},importFormRules:{},selectOpt:[],pagination:{show:!0,total:0,pageIndex:1,pageSize:20}}},computed:{},created:function(){this.queryIntentionSpeechcraftManageList(),this.queryValidIndustryList()},watch:{},methods:{handleAddClick:function(){this.$router.push("/speech/hy/?")},onSearch:function(){this.activeIndex=0,this.industryId="",this.queryIntentionSpeechcraftManageList()},searchChange:function(e){e||this.queryIntentionSpeechcraftManageList()},handleSwitchItem:function(e,t){this.activeIndex=t,this.industryId=e.id,"all"==this.industryId&&(this.industryId=""),this.queryIntentionSpeechcraftManageList()},sortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}],this.queryIntentionSpeechcraftManageList()},filterChange:function(e){this.intentionStatus=e.intentionStatus[0],this.queryIntentionSpeechcraftManageList()},changeValue:function(){},handleAdd:function(){this.$router.push("/speech/hy?")},handleSelectionChange:function(e){this.multipleSelection=[],this.multipleSelection=e,this.multipleSelection.length?this.disabled=!1:this.disabled=!0},handleCurrentChange:function(e){this.cur_page=e,this.queryIntentionSpeechcraftManageList()},handleEdit:function(e,t){this.$router.push("/speech/hy/"+e.id)},importIntentEnter:function(){1*this.importFileLength>0?(this.importIntentVisible=!1,this.importEntenVisible=!0):this.$message.error("请重新选择导入文件！")},handleRelease:function(e,t){this.releaseOneVisible=!0,this.releaseRow=e},queryIntentionSpeechcraftManageList:function(){var e=this,t={intentionType:this.type,currentPage:this.cur_page-1,pageSize:this.pagination.pageSize};t.industryId=this.industryId;var i=this.keyword;i&&(t.keyword=i),this.sortList&&(t.sortList=this.sortList),this.intentionStatus&&(t.intentionStatus=this.intentionStatus),$.post(this.$baseUrl+"services/intention/queryIntentionSpeechcraftManageList.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.pagination.total=t.returnObject.totalNumber,e.intentTyData=t.returnObject.recordList):e.$message.error(t.errorInfoList[0].errorMessage)})},removeIntentionSpeechcraftList:function(){var e=this,t=this.multipleSelection.map(function(e){return e.id});$.post(this.$baseUrl+"services/intention/removeIntentionSpeechcraftList.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.delIntentVisible=!1,e.queryIntentionSpeechcraftManageList()):e.$message.error(t.errorInfoList[0].errorMessage)})},importIntentionExcelFileList:function(){var e=this,t=new FormData;t.append("intentionType",this.type),t.append("industryId",this.importForm.industryType),t.append("file",$("#importInput")[0].files[0]),$("#importInput").val(""),$.ajax({url:e.$baseUrl+"services/intention/importIntentionExcelFileList.json",type:"POST",cache:!1,data:t,dataType:"json",headers:{"Content-Type":"multipart/form-data"},processData:!1,contentType:!1,async:!1}).done(function(t){"0000"==t.resultMessageEnum?(e.importEntenVisible=!1,e.$message.success("语料上传成功"+e.importFileLength+"条！失败"+e.importFileErrorLength+"条！")):e.errorMsg=t.errorInfoList[0].errorMessage})},createExportIntentionExcelFile:function(){var e=this,t=this.multipleSelection.map(function(e){return e.id}),i={intentionType:this.type,intentionIdList:t};$.post(this.$baseUrl+"services/intention/createExportIntentionExcelFile.json",a()(i)).then(function(t){"0000"==t.resultMessageEnum?e.downloadFile(t.returnObject.filePath):e.$message.error(t.errorInfoList[0].errorMessage)})},downloadFile:function(e){var t=e;window.location.href=this.$baseUrl+"services/file/downloadFile.html?filePath="+t},fileChange:function(e){var t=this,i=new FormData;i.append("sourceType",102),i.append("file",$("#importInput")[0].files[0]),this.fileName=$("#importInput").val(),$.ajax({url:t.$baseUrl+"services/common/uploadAnnexFile.json",type:"POST",cache:!1,data:i,dataType:"json",headers:{"Content-Type":"multipart/form-data"},processData:!1,contentType:!1,async:!1}).done(function(e){"0000"==e.resultMessageEnum?(t.importFilePath=e.returnObject,t.checkIntentionExcelFileList()):t.$message.error("上传失败！")})},checkIntentionExcelFileList:function(){var e=this,t=new FormData;t.append("intentionType",this.type),t.append("file",$("#importInput")[0].files[0]),$.ajax({url:e.$baseUrl+"services/intention/checkIntentionExcelFileList.json",type:"POST",cache:!1,data:t,dataType:"json",headers:{"Content-Type":"multipart/form-data"},processData:!1,contentType:!1,async:!1}).done(function(t){"0000"==t.resultMessageEnum?(e.importFileLength=t.returnObject.correctRowNumber,e.errorMsg="成功导入"+e.importFileLength+"条。"):e.errorMsg=t.errorInfoList[0].errorMessage})},queryValidIndustryList:function(){var e=this;$.get(this.$baseUrl+"services/intention/queryValidIndustryList.json").then(function(t){if("0000"==t.resultMessageEnum){var i=JSON.parse(a()(t.returnObject));e.selectOpt=t.returnObject,i.unshift({id:"all",industryName:"全部"}),e.validIndustryListData=i}})},publishIntentionListStatus:function(e){var t=this,i=[];e&&"one"==e?i.push(this.releaseRow.id):i=this.multipleSelection.map(function(e){return e.id}),$.post(this.$baseUrl+"services/intention/publishIntentionListStatus.json",a()(i)).then(function(e){"0000"==e.resultMessageEnum&&(t.releaseVisible=!1,t.releaseOneVisible=!1,t.$message.success("发布成功！"),t.queryIntentionSpeechcraftManageList())})},addIntentionSpeechcraft:function(){var e=this,t={intentionType:"2",intentionStatus:"0",industryType:this.addForm.industryType,intentionName:this.addForm.intentionName};this.$refs.addForm.validate(function(i){i&&$.post(e.$baseUrl+"services/intention/addIntentionSpeechcraft.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.$message.success("保存成功！"),e.addIntentVisible=!1,e.$refs.addForm.resetFields(),e.queryIntentionSpeechcraftManageList()):e.$message.error(t.errorInfoList[0].errorMessage)})})}},destroyed:function(){}},f={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"speech-tab-pane"},[i("div",[i("el-row",[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"关键词:"}},[i("el-input",{attrs:{placeholder:"ID/意图名称"},on:{change:e.searchChange},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"padding-bottom":"20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleAddClick}},[e._v("新增")]),e._v(" "),i("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){e.delIntentVisible=!0}}},[e._v("删除")]),e._v(" "),i("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.createExportIntentionExcelFile}},[e._v("导出")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.importIntentVisible=!0}}},[e._v("导入")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){e.releaseVisible=!0}}},[e._v("发布")])],1),e._v(" "),i("el-row",[i("el-col",{staticClass:"validIndustryList",attrs:{span:4}},[i("span",{staticClass:"title"},[e._v("行业领域")]),e._v(" "),i("ul",{staticClass:"validIndustryList-ul"},e._l(e.validIndustryListData,function(t,n){return i("li",{key:t.id,staticClass:"validIndustryList-li",class:{active:e.activeIndex==n},on:{click:function(i){return e.handleSwitchItem(t,n)}}},[e._v("\n            "+e._s(t.industryName)+"\n          ")])}),0)]),e._v(" "),i("el-col",{attrs:{span:20}},[i("el-table",{staticStyle:{width:"100%","border-left":"1px solid #ebeef5"},attrs:{data:e.intentTyData},on:{"sort-change":e.sortChange,"filter-change":e.filterChange,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"id",width:"240",label:"ID"}}),e._v(" "),i("el-table-column",{attrs:{prop:"intentionName",label:"意图名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"intentionStatus","column-key":"intentionStatus","filter-multiple":!1,filters:[{text:"已发布",value:"2"},{text:"未发布",value:"0"}],label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.intentionStatus?i("span",{staticClass:"status-success"},[e._v("已发布")]):i("span",{staticClass:"status-info"},[e._v("未发布")])]}}])}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"createTime",width:"180",label:"更新时间"}}),e._v(" "),i("el-table-column",{attrs:{prop:"creator",label:"操作人",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"operation-box"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleEdit(t.row,t.$index)}}},[e._v("编辑")]),e._v(" "),i("span",{staticClass:"line"},[e._v("|")]),e._v(" "),i("el-button",{attrs:{type:"text",disabled:2==t.row.intentionStatus},on:{click:function(i){return e.handleRelease(t.row,t.$index)}}},[e._v("发布")])],1)]}}])})],1)],1)],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),i("el-dialog",{staticClass:"addQuestion",attrs:{title:"删除意图",visible:e.delIntentVisible,width:"400px"},on:{"update:visible":function(t){e.delIntentVisible=t}}},[i("div",[e._v("您确定要删除已选中的"+e._s(this.multipleSelection.length)+"个意图吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delIntentVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.removeIntentionSpeechcraftList}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"导入新增意图",visible:e.importEntenVisible,width:"400px"},on:{"update:visible":function(t){e.importEntenVisible=t}}},[i("div",[e._v("本次导入将新增"+e._s(e.importFileLength)+"个意图，确定继续导入吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.importEntenVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.importIntentionExcelFileList}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"导入行业意图",visible:e.importIntentVisible,width:"500px"},on:{"update:visible":function(t){e.importIntentVisible=t}}},[i("div",[i("el-row",{staticClass:"clearfix"},[i("el-col",{staticClass:"import-pop-file",attrs:{span:7}},[i("i",{staticClass:"el-icon-tickets"})]),e._v(" "),i("el-col",{staticClass:"fileCol",attrs:{span:17}},[i("span",{staticClass:"import-tip top"},[e._v(e._s(e.errorMsg))]),e._v(" "),i("el-input",{attrs:{type:"text",value:e.fileName}}),e._v(" "),i("input",{staticClass:"fileInput",attrs:{type:"file",id:"importInput",placeholder:"选择本地文件"},on:{change:e.fileChange}}),e._v(" "),i("span",{staticClass:"import-tip"},[e._v("注：格式excel、txt,文件大小必须控制在5M以内")])],1),e._v(" "),i("el-form",{ref:"importForm",staticClass:"clearfix",attrs:{model:e.importForm,rules:e.importFormRules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"行业领域：",prop:"industryType"}},[i("el-select",{staticStyle:{width:"326px"},attrs:{placeholder:"请选择行业领域"},on:{change:e.changeValue},model:{value:e.importForm.industryType,callback:function(t){e.$set(e.importForm,"industryType",t)},expression:"importForm.industryType"}},e._l(e.selectOpt,function(e){return i("el-option",{key:e.id,attrs:{label:e.industryName,value:e.id}})}),1)],1)],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.importIntentVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.importIntentEnter}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"批量发布意图",visible:e.releaseVisible,width:"400px"},on:{"update:visible":function(t){e.releaseVisible=t}}},[i("div",[e._v("您确定要发布已选中的"+e._s(this.multipleSelection.length)+"个意图吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.releaseVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.publishIntentionListStatus}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"批量发布意图",visible:e.releaseOneVisible,width:"400px"},on:{"update:visible":function(t){e.releaseOneVisible=t}}},[i("div",[e._v('您确定要发布"'+e._s(this.releaseRow.intentionName)+'"吗？')]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.releaseOneVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.publishIntentionListStatus("one")}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"新增意图",visible:e.addIntentVisible,width:"400px"},on:{"update:visible":function(t){e.addIntentVisible=t}}},[i("div",{staticClass:"addIntent-box"},[i("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"意图名称：",prop:"intentionName"}},[i("el-input",{attrs:{placeholder:"请输入意图名称"},model:{value:e.addForm.intentionName,callback:function(t){e.$set(e.addForm,"intentionName",t)},expression:"addForm.intentionName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"行业领域：",prop:"industryType"}},[i("el-select",{attrs:{placeholder:"请选择行业领域"},on:{change:e.changeValue},model:{value:e.addForm.industryType,callback:function(t){e.$set(e.addForm,"industryType",t)},expression:"addForm.industryType"}},e._l(e.selectOpt,function(e){return i("el-option",{key:e.id,attrs:{label:e.industryName,value:e.id}})}),1)],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addIntentVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.addIntentionSpeechcraft}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var v={name:"dashboard",data:function(){return{queryKey:"",type:"3",multipleSelection:[],disabled:!0,memberData:[],sortList:[],cur_page:1,releaseRow:{},pagination:{show:!0,total:0,pageIndex:1,pageSize:20}}},computed:{},created:function(){this.userInfo=this.$store.getters.getUserInfo,this.queryMemberList()},watch:{},methods:{onSearch:function(){this.queryMemberList()},searchChange:function(e){e||this.queryMemberList()},sortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}],this.queryMemberList()},changeValue:function(){},handleCurrentChange:function(e){this.cur_page=e,this.queryMemberList()},handleEdit:function(e,t){this.$router.push("/speech/member/"+e.memberId)},handleRelease:function(e,t){this.releaseOneVisible=!0,this.releaseRow=e},queryMemberList:function(){var e=this,t={currentPage:this.cur_page-1,pageSize:this.pagination.pageSize},i=this.queryKey;i&&(t.queryKey=i),this.sortList.length&&(t.sortList=this.sortList),$.post(this.$baseUrl+"services/member/queryMemberList.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.pagination.total=t.returnObject.totalNumber,e.memberData=t.returnObject.recordList,e.memberData.filter(function(e){e.userName=e.enterpriseName||e.accountName})):e.$message.error(t.errorInfoList[0].errorMessage)})}},destroyed:function(){}},b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"speech-tab-pane"},[i("div",[i("el-row",[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"关键词:"}},[i("el-input",{attrs:{placeholder:"用户名称"},on:{change:e.searchChange},model:{value:e.queryKey,callback:function(t){e.queryKey=t},expression:"queryKey"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),i("el-table",{staticStyle:{width:"100%","border-left":"1px solid #ebeef5"},attrs:{data:e.memberData},on:{"sort-change":e.sortChange}},[i("el-table-column",{attrs:{prop:"userName",label:"创建用户"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"latestApplyTime",width:"180",label:"更新时间"}}),e._v(" "),i("el-table-column",{attrs:{width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleEdit(t.row,t.$index)}}},[e._v("查看")])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var y={name:"intent",data:function(){return{intentActiveName:"iTy"}},components:{iTy:i("VU/8")(h,d,!1,function(e){i("fkbY")},"data-v-7396125c",null).exports,iHy:i("VU/8")(m,f,!1,function(e){i("SSUW")},"data-v-48e25f74",null).exports,iYh:i("VU/8")(v,b,!1,function(e){i("B051")},"data-v-1c50b16f",null).exports},computed:{},created:function(){this.intentActiveName=this.$store.state.currIndex||"iTy"},watch:{},methods:{handleClick:function(e){this.$store.dispatch("setTabIndex",e.name)}},destroyed:function(){}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"speech-tab-pane"},[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.intentActiveName,callback:function(t){e.intentActiveName=t},expression:"intentActiveName"}},[i("el-tab-pane",{attrs:{label:"通用意图",name:"iTy"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"行业意图",name:"iHy"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"用户意图",name:"iYh"}})],1),e._v(" "),i(e.intentActiveName,{tag:"component"})],1)},staticRenderFns:[]};var S={name:"basetable",data:function(){var e;return e={speechActiveName:"first",hsglActiveName:"hsglFirst",speechStatusTxt:"话术审核",activeIndex:0,wFormInline:{managerId:""},tableData:[],tableUserData:[],cur_page:1,delVisible:!1,del_disabled:!0,multipleSelection:[],creatSpeechVisible:!1,creatSpeechOptions:[],sortList:[],creatSpeechform:{speechcraftName:"",industryType:"",CopyOperationTypeEnum:"1",industry:""},creatSpeechRules:{speechcraftName:[{required:!0,message:"输入话术名称"}],industry:[{required:!0,message:"请选择话术模版"}]},defe:{industryType:"999",speechcraftId:999,speechcraftName:"空白模版"},copySpeechRules:{speechcraftName:[{required:!0,message:"输入话术名称"}]},errors:{speechcraftName:"",copySpeechcraftName:""},copySpeechform:{speechcraftName:"",CopyOperationTypeEnum:"1"},importSpeechform:{name:"",fileName:""},copySpeechVisible:!1},r()(e,"copySpeechform",{}),r()(e,"pagination",{show:!0,total:0,pageIndex:1,pageSize:20}),r()(e,"industryList",[]),r()(e,"tableLeftData",[{name:"1"}]),r()(e,"validIndustryListData",[]),r()(e,"industryTypeList",[]),r()(e,"selectOpt",[]),r()(e,"creatorData",[]),r()(e,"memberData",[]),e},created:function(){var e="first";switch(this.type=this.$route.query.type||1,this.type){case"1":e="first";break;case"2":e="second";break;case"3":e="third"}this.speechActiveName=e,"second"==this.speechActiveName&&("hsglFirst"==this.hsglActiveName?(this.queryValidIndustryList(),this.querySpeechcraftList()):this.queryMemberList()),this.queryManagerListByData()},components:{sReview:u,sIntent:i("VU/8")(y,g,!1,function(e){i("GUNr")},null,null).exports},computed:{},methods:{onHandleEeset:function(){this.wFormInline={},this.$refs.wFormInline.resetFields()},handleCurrentChange:function(e){this.cur_page=e,"hsglFirst"==this.hsglActiveName?this.querySpeechcraftList():this.queryMemberList()},searchChange:function(e){e||("hsglFirst"==this.hsglActiveName?this.querySpeechcraftList():this.queryMemberList())},handleView:function(e,t){this.$router.push("/speech/yhhs/"+e.memberId)},tabHandleClick:function(e){var t=void 0,i=void 0;switch(e.name){case"first":t="1",i="话术审核";break;case"second":t="2",i="话术库管理";break;case"third":t="3",i="意图库管理"}this.$router.push({query:{type:t}}),"second"==this.speechActiveName&&("hsglFirst"==this.hsglActiveName?(this.querySpeechcraftList(),this.queryValidIndustryList()):this.queryMemberList()),this.speechStatusTxt=i},handleSwitchItem:function(e,t){this.activeIndex=t,this.industryTypeList=[],this.industryTypeList.push(e.id),"all"==e.id&&(this.industryTypeList=[]),this.querySpeechcraftList()},hsglHandleClick:function(e){this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.clearFilter(),"hsglFirst"==this.hsglActiveName?(this.querySpeechcraftList(),this.queryValidIndustryList()):this.queryMemberList()},sortChange:function(e){var t=!0;e.prop?(t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}]):this.sortList="",this.querySpeechcraftList()},handleEdit:function(e,t,i){var n=0;i&&1==i&&(n=1);var a=baseHost+"/flow/index.html?viewType="+n+"&speechcraftId="+t.speechcraftId+"&m=1&flowType=1";window.open(a)},onHandleSearch:function(){"hsglFirst"==this.hsglActiveName?this.querySpeechcraftList():this.queryMemberList()},queryAllIndustryList:function(){var e=this;$.get(this.$baseUrl+"services/intention/queryAllIndustryList.json").then(function(t){"0000"==t.resultMessageEnum?e.selectOpt=t.returnObject:e.$message.error(t.errorInfoList[0].errorMessage)})},modifySpeechcraft:function(e,t){var i=this,n={id:t.speechcraftId,speechcraftStatus:"1"};1==t.speechcraftStatus&&(n.speechcraftStatus="5"),$.post(this.$baseUrl+"services/speechcraft/modifySpeechcraft.json",a()(n)).then(function(e){"0000"==e.resultMessageEnum?(i.$message.success("操作成功"),i.querySpeechcraftList()):i.$message.error(e.errorInfoList[0].errorMessage)})},submitFormCopy:function(e){var t=this;if(!this.multipleSelection.length)return this.$message.error("请选择话术！"),!1;this.$refs[e].validate(function(i){i&&t.copySpeechcraft({speechcraftId:t.multipleSelection[0].speechcraftId,newSpeechcraftName:t.copySpeechform.speechcraftName,newTemplateType:1,copyOperationType:1}).then(function(i){i&&(t.copySpeechVisible=!1,t.multipleSelection=[],t.$refs[e].resetFields(),t.querySpeechcraftList())})})},handleSelectionChange:function(e){var t=this;"hsglFirst"==this.hsglActiveName?(this.multipleSelection=[],this.multipleSelection=e,this.multipleSelection.length?this.del_disabled=!1:this.del_disabled=!0):(e.forEach(function(i,n){n!==e.length-1&&t.$refs.multipleTable.toggleRowSelection(i,!1)}),this.multipleSelection=e)},speechcraftStatus:function(e,t){return l.a.formatterSpeechcraftStatus(e.speechcraftStatus)},removeSpeechcraftList:function(){var e=this,t=[];this.multipleSelection.forEach(function(e){t.push(e.speechcraftId)}),$.post(this.$baseUrl+"services/speechcraft/removeSpeechcraftList.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.querySpeechcraftList(),e.$message.success("删除成功"),e.delVisible=!1,e.multipleSelection=[]):e.$message.error(t.errorInfoList[0].errorMessage)})},creatSpeech:function(){this.creatSpeechVisible=!0,this.queryAllIndustryList()},submitFormCreat:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.addSpeechcraft()})},addSpeechcraft:function(){var e=this,t=this.selectOpt.find(function(t){return t.id===e.creatSpeechform.industry}),i={speechcraftName:this.creatSpeechform.speechcraftName,industryType:t.id,industryName:t.industryName};$.post(this.$baseUrl+"services/speechcraft/addSpeechcraft.json",a()(i)).then(function(t){"0000"==t.resultMessageEnum?(e.creatSpeechVisible=!1,e.querySpeechcraftList(),e.$message.success("操作成功！")):"060000"==t.resultMessageEnum?e.errors.speechcraftName="模版名称已存在，请修改 !":e.$message.error(t.errorInfoList[0].errorMessage)})},queryValidIndustryList:function(){var e=this;$.get(this.$baseUrl+"services/intention/queryValidIndustryList.json").then(function(t){if("0000"==t.resultMessageEnum){var i=JSON.parse(a()(t.returnObject));i.unshift({id:"all",industryName:"全部"}),e.validIndustryListData=i}})},querySpeechcraftListOpt:function(){var e=this;this.creatSpeechOptions=[];$.post(this.$baseUrl+"services/speechcraft/querySpeechcraftList.json",a()({templateType:1})).then(function(t){if("0000"==t.resultMessageEnum){var i=[];t.returnObject.recordList&&t.returnObject.recordList.length?(i=t.returnObject.recordList).unshift(e.defe):i.push(e.defe),e.creatSpeechOptions=i}else e.$message.error(t.errorInfoList[0].errorMessage)})},queryMemberList:function(){var e=this,t={currentPage:this.cur_page-1,pageSize:this.pagination.pageSize};this.wFormInline.queryKey&&(t.queryKey=this.wFormInline.queryKey),this.sortList.length&&(t.sortList=this.sortList),$.post(this.$baseUrl+"services/member/queryMemberList.json",a()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.pagination.total=t.returnObject.totalNumber,e.memberData=t.returnObject.recordList,e.memberData.filter(function(e){e.userName=e.enterpriseName||e.accountName})):e.$message.error(t.errorInfoList[0].errorMessage)})},querySpeechcraftList:function(e){var t=this,i={templateType:1,currentPage:this.cur_page-1,pageSize:this.pagination.pageSize};this.industryTypeList.length&&(i.industryTypeList=this.industryTypeList),this.wFormInline.queryKey&&(i.queryKey=this.wFormInline.queryKey),this.sortList.length&&(i.sortList=this.sortList),this.wFormInline.managerId&&(i.managerId=this.wFormInline.managerId),$.post(this.$baseUrl+"services/speechcraft/querySpeechcraftList.json",a()(i)).then(function(e){"0000"==e.resultMessageEnum?(t.pagination.total=e.returnObject.totalNumber,t.tableData=e.returnObject.recordList):t.$message.error(e.errorInfoList[0].errorMessage)})},copySpeechcraft:function(e){var t=this,i=$.Deferred(),n=$.extend({},{newSpeechcraftName:this.creatSpeechform.speechcraftName,copyOperationType:this.creatSpeechform.CopyOperationTypeEnum},e);return $.post(this.$baseUrl+"services/speechcraft/copySpeechcraft.json",a()(n)).then(function(e){"0000"==e.resultMessageEnum?i.resolve(e):t.$message.error(e.errorInfoList[0].errorMessage)}),i},queryManagerListByData:function(){var e=this;$.get(this.$baseUrl+"services/manager/queryManagerListByData.json?dataType=1").then(function(t){"0000"==t.resultMessageEnum?(e.creatorData=t.returnObject,e.creatorData.unshift({createId:"",creator:"全部"})):e.$message.error(t.errorInfoList[0].errorMessage)})}},watch:{creatSpeechVisible:function(e){e||this.$refs.creatSpeechform.resetFields()}}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-admin"},[i("div",{staticClass:"admin-page"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("管理中心")]),e._v(" "),i("el-breadcrumb-item",[e._v("话术管理")]),e._v(" "),i("el-breadcrumb-item",[e._v(e._s(e.speechStatusTxt))])],1),e._v(" "),i("keep-alive",[i("el-tabs",{on:{"tab-click":e.tabHandleClick},model:{value:e.speechActiveName,callback:function(t){e.speechActiveName=t},expression:"speechActiveName"}},[i("el-tab-pane",{attrs:{label:"话术审核",name:"first"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"话术库管理",name:"second"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"意图库管理",name:"third"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"admin-body"},["first"==e.speechActiveName?i("s-review"):e._e(),e._v(" "),"second"==e.speechActiveName?i("div",{staticClass:"speech-tab-pane"},[i("el-tabs",{on:{"tab-click":e.hsglHandleClick},model:{value:e.hsglActiveName,callback:function(t){e.hsglActiveName=t},expression:"hsglActiveName"}},[i("el-tab-pane",{attrs:{label:"通用模版库",name:"hsglFirst"}}),e._v(" "),i("el-tab-pane",{attrs:{label:"用户话术库",name:"hsglSecond"}})],1),e._v(" "),i("el-row",[i("el-col",[i("el-form",{ref:"wFormInline",staticClass:"w-form-inline",attrs:{inline:!0,model:e.wFormInline}},[i("el-form-item",{attrs:{label:"关键词："}},[i("el-input",{attrs:{placeholder:"hsglFirst"==e.hsglActiveName?"关键词":"用户名称"},on:{change:e.searchChange},model:{value:e.wFormInline.queryKey,callback:function(t){e.$set(e.wFormInline,"queryKey",t)},expression:"wFormInline.queryKey"}})],1),e._v(" "),"hsglFirst"==e.hsglActiveName?i("el-form-item",{attrs:{label:"操作人："}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.wFormInline.managerId,callback:function(t){e.$set(e.wFormInline,"managerId",t)},expression:"wFormInline.managerId"}},e._l(e.creatorData,function(e){return i("el-option",{key:e.createId,attrs:{label:e.creator,value:e.createId}})}),1)],1):e._e(),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onHandleSearch}},[e._v("搜索")])],1),e._v(" "),"hsglFirst"==e.hsglActiveName?i("el-form-item",[i("el-button",{on:{click:e.onHandleEeset}},[e._v("重置")])],1):e._e()],1)],1)],1),e._v(" "),"hsglFirst"==e.hsglActiveName?i("el-row",{staticStyle:{"padding-bottom":"20px"}},[i("el-col",[i("el-button",{attrs:{type:"primary",disabled:e.del_disabled},on:{click:function(t){e.delVisible=!0}}},[e._v("删除")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.creatSpeech}},[e._v("新增")])],1)],1):e._e(),e._v(" "),"hsglFirst"==e.hsglActiveName?i("el-row",{staticClass:"first-row"},[i("el-col",{staticClass:"validIndustryList",attrs:{span:4}},[i("span",{staticClass:"title"},[e._v("行业领域")]),e._v(" "),i("ul",{staticClass:"validIndustryList-ul"},e._l(e.validIndustryListData,function(t,n){return i("li",{key:t.id,staticClass:"validIndustryList-li",class:{active:e.activeIndex==n},on:{click:function(i){return e.handleSwitchItem(t,n)}}},[e._v("\n                             "+e._s(t.industryName)+"\n                         ")])}),0)]),e._v(" "),i("el-col",{attrs:{span:20}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"speechcraftName",label:"话术模版名称",width:""}}),e._v(" "),i("el-table-column",{attrs:{prop:"speechcraftStatus",formatter:e.speechcraftStatus,label:"状态"}}),e._v(" "),i("el-table-column",{attrs:{prop:"editTime",sortable:"",width:"180",label:"更新时间"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createUserName",label:"操作人"}}),e._v(" "),i("el-table-column",{attrs:{prop:"calledTotalNumber",width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return["hsglFirst"==e.hsglActiveName?i("span",[5==t.row.speechcraftStatus?i("el-button",{attrs:{type:"text",disabled:""}},[e._v("编辑")]):i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleEdit(t.$index,t.row,1)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.modifySpeechcraft(t.$index,t.row)}}},[e._v(e._s(1==t.row.speechcraftStatus?"上线":"下线"))])],1):i("span",[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("查看")])],1)]}}],null,!1,2468822140)})],1)],1)],1):i("el-row",[i("el-table",{staticStyle:{width:"100%","border-left":"1px solid #ebeef5"},attrs:{data:e.memberData},on:{"sort-change":e.sortChange}},[i("el-table-column",{attrs:{prop:"userName",label:"创建用户"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"latestApplyTime",width:"180",label:"更新时间"}}),e._v(" "),i("el-table-column",{attrs:{width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleView(t.row,t.$index)}}},[e._v("查看")])]}}],null,!1,137730954)})],1)],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1):e._e(),e._v(" "),"third"==e.speechActiveName?i("s-intent"):e._e()],1),e._v(" "),i("el-dialog",{staticClass:"addQuestion",attrs:{title:"话术删除确认",visible:e.delVisible,width:"400px"},on:{"update:visible":function(t){e.delVisible=t}}},[i("div",[e._v("您确定要删除此"+e._s(this.multipleSelection.length||1)+"条话术吗？删除后将不能恢复？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.removeSpeechcraftList}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"新建话术模版",visible:e.creatSpeechVisible,width:"600px"},on:{"update:visible":function(t){e.creatSpeechVisible=t}}},[i("el-form",{ref:"creatSpeechform",attrs:{rules:e.creatSpeechRules,model:e.creatSpeechform,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"模版名称",error:e.errors.speechcraftName,prop:"speechcraftName"}},[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入模版名称"},model:{value:e.creatSpeechform.speechcraftName,callback:function(t){e.$set(e.creatSpeechform,"speechcraftName",t)},expression:"creatSpeechform.speechcraftName"}})],1),e._v(" "),i("el-form-item",{staticClass:"industry",attrs:{label:"行业领域",prop:"industry"}},[i("el-select",{attrs:{placeholder:"请选择行业领域"},model:{value:e.creatSpeechform.industry,callback:function(t){e.$set(e.creatSpeechform,"industry",t)},expression:"creatSpeechform.industry"}},e._l(e.selectOpt,function(e){return i("el-option",{key:e.id,attrs:{label:e.industryName,value:e.id}})}),1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.creatSpeechVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormCreat("creatSpeechform")}}},[e._v("开始创建")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"复制话术",visible:e.copySpeechVisible,width:"600px"},on:{"update:visible":function(t){e.copySpeechVisible=t}}},[i("el-form",{ref:"copySpeechform",attrs:{model:e.copySpeechform,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"话术名称",error:e.errors.copySpeechcraftName,prop:"copySpeechcraftName"}},[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入话术名称"},model:{value:e.copySpeechform.speechcraftName,callback:function(t){e.$set(e.copySpeechform,"speechcraftName",t)},expression:"copySpeechform.speechcraftName"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.copySpeechVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormCopy("copySpeechform")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var I=i("VU/8")(S,_,!1,function(e){i("Vi8S")},"data-v-561f3d3b",null);t.default=I.exports}});