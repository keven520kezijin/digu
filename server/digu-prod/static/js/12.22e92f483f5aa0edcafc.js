webpackJsonp([12],{L5eo:function(e,s){},ebYY:function(e,s,t){e.exports=t.p+"static/img/logo_beta_1.0.9.707881a.svg"},mFGy:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t("mvHQ"),o=t.n(r),i=t("VI/i"),a=t.n(i),n={data:function(){var e=this;return{passwordType:"password",checkPassType:"password",passwordClass:"",code_text:"获取验证码",rTime:60,disabled:!1,checkPasswordClass:"",errors:{errorMsg:!1,code:"",phone:""},banners:[{src:"common-static/img/img1.png"},{src:"common-static/img/img2.png"},{src:"common-static/img/img3.png"}],forgetForm:{phone:"",password:"",code:"",check_pass:""},rules:{phone:[{required:!0,message:"手机号不能为空！",trigger:"blur"},{validator:function(e,s,t){0==/^1[34578]\d{9}$/.test(s)?t(new Error("请输入11位手机号！")):t()},trigger:"blur"}],code:[{required:!0,message:"请输入验证码！",trigger:"blur"},{min:4,max:4,message:"请输入正确的验证码！",trigger:"change"}],password:[{required:!0,message:"密码不能为空！",trigger:"blur"},{validator:function(e,s,t){0==/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,20}$/.test(s)?t(new Error("请输入8-20位字母数字结合密码！")):t()},trigger:"blur"}],check_pass:[{required:!0,message:"请再次输入密码！",trigger:"blur"},{validator:function(s,t,r){t!==e.forgetForm.password?r(new Error("两次输入密码不一致!")):r()},trigger:"change"}]}}},mounted:function(){var e=document.documentElement.clientHeight,s=e<600?"600":e,t=780*s/1024;$(".login-wrap,.login-left,.login-right").css("height",s),$(".login-left").css("width",t),$(".login-right").css("marginLeft",t)},methods:{showPassword:function(e){"password"===e?"text"===this.passwordType?(this.passwordType="password",this.passwordClass=""):(this.passwordType="text",this.passwordClass="active"):"text"===this.checkPassType?(this.checkPassType="password",this.checkPasswordClass=""):(this.checkPassType="text",this.checkPasswordClass="active")},countdown:function(){var e=this,s=setInterval(function(){e.rTime>0?(e.disabled=!0,e.code_text=e.rTime--+"s"):(e.disabled=!1,e.rTime=60,e.code_text="重新发送",clearInterval(s))},1e3)},sendSmsCode:function(){var e=this;if(!this.forgetForm.phone)return this.$message.error("请输入手机号！"),!1;if(0==/^1[34578]\d{9}$/.test(this.forgetForm.phone))return!1;var s={mobileNumber:this.forgetForm.phone};$.post(this.$baseUrl+"common/sendSmsCode.json?smsTemplateType=2&mobileNumber="+this.forgetForm.phone,s).then(function(s){"0000"==s.resultMessageEnum?e.countdown():e.$message.error(s.errorInfoList[0].errorMessage)})},submitForm:function(e){var s=this;this.$nextTick(function(){s.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;s.submitAjax()})})},submitAjax:function(){var e=this,s=a.a.createHash("md5");s.update(this.forgetForm.password);var t={accountPassword:s.digest("hex"),contactMobile:this.forgetForm.phone,smsCode:this.forgetForm.code};$.post(this.$baseUrl+"member/forgetPassword.json",o()(t)).then(function(s){var t=s.resultMessageEnum;"0000"==s.resultMessageEnum?(localStorage.removeItem("ms_username"),localStorage.removeItem("ms_pass"),e.$router.push("/login")):"000118"==s.resultMessageEnum?e.errors.errorMsg=!0:"000309"==t?e.errors.code="验证码已失效！":"000307"==t?e.errors.code="验证码错误！":e.$message.error(s.errorInfoList[0].errorMessage)})}}},l={render:function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"login-wrap log-form"},[r("div",{staticClass:"login-left"},[[r("el-carousel",{attrs:{height:"100%"}},e._l(e.banners,function(e,s){return r("el-carousel-item",{key:s},[r("img",{staticClass:"banner",attrs:{src:e.src,alt:""}})])}),1),e._v(" "),e._m(0)]],2),e._v(" "),r("div",{staticClass:"login-right"},[r("div",{staticClass:"login-right-body",staticStyle:{"margin-top":"-260px"}},[r("h3",{staticClass:"login-top-text"},[e._v("Log in")]),e._v(" "),r("div",{staticClass:"login-top-logo"},[r("svg",{attrs:{version:"1.1",preserveAspectRatio:"xMinYMin meet",width:"300",height:"42",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[r("image",{attrs:{"xlink:href":t("ebYY"),width:"300",height:"42"}})])]),e._v(" "),r("el-form",{ref:"forgetForm",staticClass:"ms-content",attrs:{model:e.forgetForm,rules:e.rules,"label-width":"0px"}},[e.errors.errorMsg?r("div",{staticClass:"login_error el-form-item__error"},[e._v("该手机号尚未注册，"),r("a",{attrs:{href:"#/registered"}},[e._v("点击注册")]),e._v("。")]):e._e(),e._v(" "),r("el-form-item",{attrs:{prop:"phone"}},[r("el-input",{attrs:{placeholder:"11位手机号"},model:{value:e.forgetForm.phone,callback:function(s){e.$set(e.forgetForm,"phone",s)},expression:"forgetForm.phone"}},[r("i",{staticClass:"w_ico_phone",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),r("el-form-item",{attrs:{prop:"code",error:e.errors.code}},[r("el-input",{attrs:{placeholder:"4位验证码"},model:{value:e.forgetForm.code,callback:function(s){e.$set(e.forgetForm,"code",s)},expression:"forgetForm.code"}},[r("i",{staticClass:"w_ico_id-verified",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),r("el-button",{staticClass:"send-code-btn",attrs:{type:"primary",disabled:e.disabled},on:{click:e.sendSmsCode}},[e._v(e._s(e.code_text))])],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:"输入8-20位字母数据结合密码",type:e.passwordType},model:{value:e.forgetForm.password,callback:function(s){e.$set(e.forgetForm,"password",s)},expression:"forgetForm.password"}},[r("i",{staticClass:"w_ico_password",attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),r("i",{staticClass:"el-input__icon el-icon-lx-attentionfill",class:e.passwordClass,attrs:{slot:"suffix"},on:{click:function(s){return e.showPassword("password")}},slot:"suffix"})])],1),e._v(" "),r("el-form-item",{attrs:{prop:"check_pass"}},[r("el-input",{attrs:{placeholder:"确认新密码",type:e.checkPassType},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.submitForm("forgetForm")}},model:{value:e.forgetForm.check_pass,callback:function(s){e.$set(e.forgetForm,"check_pass",s)},expression:"forgetForm.check_pass"}},[r("i",{staticClass:"w_ico_password",attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),r("i",{staticClass:"el-input__icon el-icon-lx-attentionfill",class:e.checkPasswordClass,attrs:{slot:"suffix"},on:{click:function(s){return e.showPassword("check_pass")}},slot:"suffix"})])],1),e._v(" "),r("div",{staticClass:"login-btn"},[r("el-form-item",[r("div",{staticClass:"login-btn-left"},[r("a",{attrs:{href:"#/login"}},[e._v("返回登录")]),r("span",{staticClass:"line"},[e._v("|")]),r("a",{attrs:{href:"#/registered"}},[e._v("注册")])]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(s){return e.submitForm("forgetForm")}}},[e._v("提交")])],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"reserved"},[e._v("\n            © 2018 Unisound.com. All rights reserved \n        ")])])])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"logo-text"},[s("span",{staticClass:"a"},[this._v("Welcome !")]),this._v(" "),s("span",{staticClass:"b"},[this._v("UNISOUND SAMANTHA V Beta 1.0")])])}]};var c=t("VU/8")(n,l,!1,function(e){t("L5eo")},"data-v-3da7efde",null);s.default=c.exports}});