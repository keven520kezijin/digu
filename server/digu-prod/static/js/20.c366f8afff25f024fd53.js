webpackJsonp([20],{dUg6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),n=a.n(r),s=a("GeYD"),o=a("N3b3"),i={name:"baseform",data:function(){return{select_cate:"",url:"./static/vuetable.json",select_word:"",cur_page:1,cur_page_con:1,date:"",activeName:"recharge_record",rechargeRecordTableData:[],consumRecordTableData:[],pagination:{total:0,pageIndex:1,pageSize:20},sortList2:[{propertyName:"consumptionTime",ascendingFlag:!0}],pickerOptions2:{shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"过去7天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"过去30天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]}}},created:function(){var e=document.documentElement.clientHeight;this.height=e-250,s.a.$emit("contentTop",!0),this.queryCashOrderList()},methods:{handleCurrentChange:function(e){this.cur_page=e,this.queryCashOrderList()},handleCurrentChangeConsum:function(e){this.cur_page_con=e,this.queryConsumptionOrderList()},queryCashOrderList:function(){var e=this,t={currentPage:this.cur_page-1,pageSize:this.pagination.pageSize};this.startDate&&this.endDate&&(t.startDate=this.startDate,t.endDate=this.endDate),this.select_word&&(t.taskName=this.select_word),t.sortList=[{propertyName:"transferDate",ascendingFlag:!0}],$.post(this.$baseUrl+"order/queryCashOrderList.json",n()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.rechargeRecordTableData=t.returnObject.recordList,e.pagination.total=t.returnObject.totalNumber):e.$message.error(t.errorInfoList[0].errorMessage)})},handleChangeDate:function(e){"recharge_record"==this.activeName?(this.startDate=o.a.format(e[0]),this.endDate=o.a.format(e[1]),this.cur_page=1,this.queryCashOrderList()):(this.startDateConsum=o.a.format(e[0]),this.endDateConsum=o.a.format(e[1]),this.cur_page_con=1,this.queryConsumptionOrderList())},queryConsumptionOrderList:function(){var e=this,t={currentPage:this.cur_page_con-1,pageSize:this.pagination.pageSize};this.startDateConsum&&this.endDateConsum&&(t.startDate=this.startDateConsum,t.endDate=this.endDateConsum),this.select_word&&(t.taskName=this.select_word),this.sortList2&&(t.sortList=this.sortList2),$.post(this.$baseUrl+"order/queryConsumptionOrderList.json",n()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.consumRecordTableData=t.returnObject.recordList,e.pagination.total=t.returnObject.totalNumber):e.$message.error(t.errorInfoList[0].errorMessage)})},sortChange1:function(e){var t=!0;t="ascending"==e.order,this.sortList1=[{propertyName:e.prop,ascendingFlag:t}],this.queryCashOrderList()},sortChange2:function(e){var t=!0;t="ascending"==e.order,this.sortList2=[{propertyName:e.prop,ascendingFlag:t}],this.queryConsumptionOrderList()},search:function(){if(!this.select_word)return this.$message.error("请输入关键字！"),!1;this.cur_page=1,"recharge_record"==this.activeName?this.queryCashOrderList():this.queryConsumptionOrderList()},handleClick:function(e){"recharge_record"==this.activeName?this.queryCashOrderList():this.queryConsumptionOrderList()},onSubmit:function(){this.$message.success("提交成功！")}},destroyed:function(){s.a.$emit("contentTop",!1)}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"content-box-top"},[a("el-input",{staticClass:"handle-input mr10",attrs:{clearable:"",placeholder:"输入关键词"},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.search(t):null}},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("div",{staticClass:"content-box-top-right"},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"daterange","picker-options":e.pickerOptions2,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},on:{change:e.handleChangeDate},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),e._v(" "),a("div",{staticClass:"w-container"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"充值纪录",name:"recharge_record"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rechargeRecordTableData,height:e.height,stripe:""},on:{"sort-change":e.sortChange1}},[a("el-table-column",{attrs:{prop:"orderNo",label:"订单号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"paymentType",label:"充值方式",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.row.paymentType,expression:"scope.row.paymentType==1"}]},[e._v("微信")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:2==t.row.paymentType,expression:"scope.row.paymentType==2"}]},[e._v("支付宝")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:3==t.row.paymentType,expression:"scope.row.paymentType==3"}]},[e._v("银联")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:4==t.row.paymentType,expression:"scope.row.paymentType==4"}]},[e._v("手动打款")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"transferDate",label:"充值时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transferMoney",label:"充值金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receivedMoney",label:"到账金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.orderStatus?a("span",[e._v("未支付")]):e._e(),e._v(" "),2==t.row.orderStatus?a("span",[e._v("处理中")]):e._e(),e._v(" "),3==t.row.orderStatus?a("span",[e._v("充值成功")]):e._e(),e._v(" "),4==t.row.orderStatus?a("span",[e._v("未支付已关单")]):e._e(),e._v(" "),5==t.row.orderStatus?a("span",[e._v("支付错误")]):e._e(),e._v(" "),6==t.row.orderStatus?a("span",[e._v("退款中")]):e._e(),e._v(" "),7==t.row.orderStatus?a("span",[e._v("已退款")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"消费纪录",name:"consum_record"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.consumRecordTableData,height:e.height,stripe:""},on:{"sort-change":e.sortChange2}},[a("el-table-column",{attrs:{prop:"taskName",label:"任务名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"consumptionTime",label:"结算时间",sortable:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"consumptionMoney",sortable:"",label:"消费金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"connectedDuration",sortable:"",label:"通话时长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"calledTotalNumber",sortable:"",label:"呼叫次数"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChangeConsum}})],1)],1)],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(i,c,!1,function(e){a("yanM")},"data-v-75e915b3",null);t.default=l.exports},yanM:function(e,t){}});