webpackJsonp([26],{Hz4t:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("mvHQ"),r=o.n(n),s={data:function(){return{disConfirm:!1,createKnoledgeForm:{isShow:!1,typeName:""},createSoundForm:{isShow:!1,typeName:""},form:{},showSoundSelect:!1,select_word:"",height:500,pagination:{show:!0,total:0,pageIndex:1,pageSize:20},filtersIndustry:[],taskTableData:[],options:{stripe:!0,loading:!0,highlightCurrentRow:!0,mutiSelect:!0},cur_page:1,searchFrom:{industryTypes:[],groupName:""},dialogVisible:!1,industryList:[],knowledgeTypeList:[],soundTypeList:[]}},created:function(){this.queryKnowledgeGroupListOfPage(),this.queryAllIndustryList(),this.queryKnowledgeTypeList(),this.querySoundConfigGroupList()},methods:{isCopySound:function(e){this.showSoundSelect=e},search:function(){this.cur_page=1,this.queryKnowledgeGroupListOfPage()},searchChange:function(){},sortChange:function(e){console.log(e)},handleSelectionChange:function(e){console.log(e)},filterChange:function(e){this.cur_page=1;var t=[];for(var o in e.industryName)t.push(e.industryName[o]);this.searchFrom.industryTypes=[t],this.queryKnowledgeGroupListOfPage()},queryKnowledgeGroupListOfPage:function(){var e=this,t={};t.currentPage=this.cur_page-1,t.pageSize=this.pagination.pageSize,t.templateType=1,""!=this.searchFrom.groupName&&(t.groupName=this.searchFrom.groupName),""!=this.searchFrom.industryTypes&&this.searchFrom.industryTypes!=[]&&(t.industryTypes=this.searchFrom.industryTypes),$.post(this.$baseUrl+"knowledge/queryManagerKnowledgeGroupListOfPage.json",r()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.taskTableData=t.returnObject.recordList,e.pagination.total=t.returnObject.totalNumber):e.$message.error(t.errorInfoList[0].errorMessage)})},handleCurrentChange:function(e){this.cur_page=e,this.queryKnowledgeGroupListOfPage()},queryAllIndustryList:function(){var e=this;$.get(this.$baseUrl+"intention/queryAllIndustryList.json").then(function(t){if("0000"==t.resultMessageEnum&&t.returnObject&&t.returnObject.length)for(var o in console.log(t.returnObject),t.returnObject){var n={};n.text=t.returnObject[o].industryName,n.value=t.returnObject[o].id,e.industryList.push(n)}})},handleLook:function(e,t){this.$router.push("/repository/viewknoledgegroup/"+t.id)},goRepository:function(){this.$router.push("/repository/set/unclassified")},handleCopy:function(e){this.dialogVisible=!0,this.disConfirm=!1,this.form.name=e.groupName,this.form.groupId=e.id},queryKnowledgeTypeList:function(){var e=this;this.knowledgeTypeList=[],$.get(this.$baseUrl+"knowledge/queryKnowledgeTypeList.json").then(function(t){"0000"==t.resultMessageEnum?e.knowledgeTypeList=t.returnObject:e.$message.error(t.errorInfoList[0].errorMessage)})},querySoundConfigGroupList:function(){var e=this;this.soundTypeList=[],$.get(this.$baseUrl+"sound/querySoundConfigGroupList.json").then(function(t){if("0000"==t.resultMessageEnum){var o=t.returnObject;for(var n in o)2==o[n].soundConfigGroupType&&1==o[n].duplicateFlag&&e.soundTypeList.push(o[n])}else e.$message.error(t.errorInfoList[0].errorMessage)})},handleConfirmAddRole:function(){""==this.createKnoledgeForm.typeName?this.$message.error("知识库不能为空数据"):this.addKnowledgeType()},addKnowledgeType:function(){var e=this,t={typeName:this.createKnoledgeForm.typeName};$.post(this.$baseUrl+"knowledge/addKnowledgeType.json",r()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.queryKnowledgeTypeList(),e.createKnoledgeForm.isShow=!1,e.createKnoledgeForm.typeName=""):self.$message.error(t.errorInfoList[0].errorMessage)})},handleConfirmAddSound:function(){""==this.createSoundForm.typeName?this.$message.error("音频文件夹空"):this.addSoundConfigGroup()},addSoundConfigGroup:function(){var e=this,t={configGroupName:this.createSoundForm.typeName,soundConfigGroupType:2,duplicateFlag:1};$.post(this.$baseUrl+"sound/addSoundConfigGroup.json",r()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.querySoundConfigGroupList(),e.createSoundForm.isShow=!1,e.createSoundForm.typeName="",e.$message.success("添加成功！")):e.$message.error(t.errorInfoList[0].errorMessage)})},copyFromManager:function(){var e=this;console.log(this.form),this.disConfirm=!0;var t={};this.form.checked&&""!=this.form.soundGroup&&(t.soundGroup=this.form.soundGroup),t.groupId=this.form.groupId,t.groupName=this.form.name,t.konledgeTypeId=this.form.konledgeTypeId,$.post(this.$baseUrl+"knowledge/copyKnoledgeAndSound.json",r()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.dialogVisible=!1,e.$message.success("复制成功")):e.$message.error(t.errorInfoList[0].errorMessage)})}},destroyed:function(){}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",[o("el-col",{attrs:{span:24}},[o("div",{staticClass:"content-box-top",staticStyle:{position:"fixed"}},[o("el-input",{staticClass:"handle-input mr10",attrs:{clearable:"",placeholder:"输入知识库名称"},on:{change:e.searchChange},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.search(t):null}},model:{value:e.searchFrom.groupName,callback:function(t){e.$set(e.searchFrom,"groupName",t)},expression:"searchFrom.groupName"}}),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("搜索")])],1)]),e._v(" "),o("el-col",{attrs:{span:24}},[o("div",{staticStyle:{"padding-top":"50px","padding-bottom":"10px",color:"#fdc83c","font-size":"x-large"}},[o("a",{staticStyle:{"font-size":"large"},attrs:{href:"#"},on:{click:e.goRepository}},[e._v("<< 返回")])])]),e._v(" "),o("el-col",[o("div",{staticClass:"w-cantainer task-table-cantainer"},[o("div",{staticClass:"box-card task-card"},[o("el-tabs",[o("el-tab-pane",{attrs:{label:"通用知识库列表",name:"first"}})],1),e._v(" "),o("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.taskTableData,stripe:"",height:e.height,options:e.options,pagination:e.pagination},on:{"sort-change":e.sortChange,"filter-change":e.filterChange,"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{prop:"groupName",label:"知识库名称",width:"240",fixed:""}}),e._v(" "),o("el-table-column",{attrs:{width:"200",prop:"industryName","column-key":"industryName",label:"行业领域",filters:e.industryList}}),e._v(" "),o("el-table-column",{attrs:{width:"200",prop:"editTime",sortable:"",label:"更新时间"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作",width:"200",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.handleLook(t.$index,t.row)}}},[e._v("查看")]),e._v(" "),o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.handleCopy(t.row)}}},[e._v("复制")])]}}])})],1),e._v(" "),o("div",{staticClass:"pagination"},[o("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1)],1)])]),e._v(" "),o("el-dialog",{attrs:{title:"复制到知识库",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"知识库名称"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"知识库分类"}},[o("el-select",{attrs:{placeholder:"请选择知识库"},model:{value:e.form.konledgeTypeId,callback:function(t){e.$set(e.form,"konledgeTypeId",t)},expression:"form.konledgeTypeId"}},[e._l(e.knowledgeTypeList,function(e){return o("el-option",{key:e.id,attrs:{label:e.typeName,value:e.id}})}),e._v(" "),o("div",{staticClass:"select_add_item"},[e.createKnoledgeForm.isShow?o("div",{staticClass:"select-menu-input-box"},[o("el-input",{attrs:{placeholder:"知识库名称"},model:{value:e.createKnoledgeForm.typeName,callback:function(t){e.$set(e.createKnoledgeForm,"typeName",t)},expression:"createKnoledgeForm.typeName"}})],1):e._e(),e._v(" "),e.createKnoledgeForm.isShow?o("div",{staticClass:"select-icon-box"},[o("i",{staticClass:"el-icon-check",on:{click:e.handleConfirmAddRole}}),e._v(" "),o("i",{staticClass:"el-icon-close",on:{click:function(t){e.createKnoledgeForm.isShow=!1}}})]):e._e(),e._v(" "),o("div",[o("i",{staticClass:"el-icon-plus",on:{click:function(t){e.createKnoledgeForm.isShow=!0}}},[o("span",[e._v("新增知识库")])])])])],2)],1),e._v(" "),o("el-form-item",{attrs:{label:""}},[o("el-checkbox",{on:{change:e.isCopySound},model:{value:e.form.checked,callback:function(t){e.$set(e.form,"checked",t)},expression:"form.checked"}},[e._v("同时复制音频")])],1),e._v(" "),o("el-form-item",{attrs:{label:""}},[e.showSoundSelect?o("el-select",{attrs:{placeholder:"请选择音频文件夹"},model:{value:e.form.soundGroup,callback:function(t){e.$set(e.form,"soundGroup",t)},expression:"form.soundGroup"}},[e._l(e.soundTypeList,function(e){return o("el-option",{key:e.id,attrs:{label:e.configGroupName,value:e.id}})}),e._v(" "),o("div",{staticClass:"select_add_item"},[e.createSoundForm.isShow?o("div",{staticClass:"select-menu-input-box"},[o("el-input",{attrs:{placeholder:"文件夹名称"},model:{value:e.createSoundForm.typeName,callback:function(t){e.$set(e.createSoundForm,"typeName",t)},expression:"createSoundForm.typeName"}})],1):e._e(),e._v(" "),e.createSoundForm.isShow?o("div",{staticClass:"select-icon-box"},[o("i",{staticClass:"el-icon-check",on:{click:e.handleConfirmAddSound}}),e._v(" "),o("i",{staticClass:"el-icon-close",on:{click:function(t){e.createSoundForm.isShow=!1}}})]):e._e(),e._v(" "),o("div",[o("i",{staticClass:"el-icon-plus",on:{click:function(t){e.createSoundForm.isShow=!0}}},[o("span",[e._v("新增音频文件夹")])])])])],2):e._e()],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{disabled:e.disConfirm,type:"primary"},on:{click:e.copyFromManager}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var a=o("VU/8")(s,i,!1,function(e){o("nBFR")},"data-v-383f4668",null);t.default=a.exports},nBFR:function(e,t){}});