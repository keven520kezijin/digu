webpackJsonp([5],{"+6Bu":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}},"0mR5":function(e,t){},"0pC0":function(e,t){},"1nuA":function(e,t,n){"use strict";t.decode=t.parse=n("kMPS"),t.encode=t.stringify=n("xaZU")},"4WTo":function(e,t,n){var o=n("NWt+");e.exports=function(e,t){var n=[];return o(e,!1,n.push,n,t),n}},"6zP3":function(e,t){},"7Doy":function(e,t,n){var o=n("EqjI"),r=n("7UMu"),i=n("dSzd")("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),o(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},"9Bbf":function(e,t,n){"use strict";var o=n("kM2E");e.exports=function(e){o(o.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,n){"use strict";var o=n("evD5").f,r=n("Yobk"),i=n("xH/j"),s=n("+ZMJ"),a=n("2KxR"),l=n("NWt+"),c=n("vIB/"),u=n("EGZi"),d=n("bRrM"),p=n("+E39"),h=n("06OY").fastKey,f=n("LIJb"),m=p?"_s":"size",g=function(e,t){var n,o=h(t);if("F"!==o)return e._i[o];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,o){a(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=o&&l(o,n,e[c],e)});return i(u.prototype,{clear:function(){for(var e=f(this,t),n=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=f(this,t),o=g(n,e);if(o){var r=o.n,i=o.p;delete n._i[o.i],o.r=!0,i&&(i.n=r),r&&(r.p=i),n._f==o&&(n._f=r),n._l==o&&(n._l=i),n[m]--}return!!o},forEach:function(e){f(this,t);for(var n,o=s(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(f(this,t),e)}}),p&&o(u.prototype,"size",{get:function(){return f(this,t)[m]}}),u},def:function(e,t,n){var o,r,i=g(e,t);return i?i.v=n:(e._l=i={i:r=h(t,!0),k:t,v:n,p:o=e._l,n:void 0,r:!1},e._f||(e._f=i),o&&(o.n=i),e[m]++,"F"!==r&&(e._i[r]=i)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=f(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},ALrJ:function(e,t,n){var o=n("+ZMJ"),r=n("MU5D"),i=n("sB3e"),s=n("QRG4"),a=n("oeOm");e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,h=t||a;return function(t,a,f){for(var m,g,v=i(t),y=r(v),w=o(a,f,3),b=s(y.length),_=0,k=n?h(t,b):l?h(t,0):void 0;b>_;_++)if((p||_ in y)&&(g=w(m=y[_],_,v),e))if(n)k[_]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:k.push(m)}else if(u)return!1;return d?-1:c||u?u:k}}},BDhv:function(e,t,n){var o=n("kM2E");o(o.P+o.R,"Set",{toJSON:n("m9gC")("Set")})},FZlx:function(e,t){},HpRW:function(e,t,n){"use strict";var o=n("kM2E"),r=n("lOnJ"),i=n("+ZMJ"),s=n("NWt+");e.exports=function(e){o(o.S,e,{from:function(e){var t,n,o,a,l=arguments[1];return r(this),(t=void 0!==l)&&r(l),void 0==e?new this:(n=[],t?(o=0,a=i(l,arguments[2],2),s(e,!1,function(e){n.push(a(e,o++))})):s(e,!1,n.push,n),new this(n))}})}},LIJb:function(e,t,n){var o=n("EqjI");e.exports=function(e,t){if(!o(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},LUns:function(e,t){},UZ5h:function(e,t,n){"use strict";var o=n("xCWu"),r=n("qOJP");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=w,t.resolve=function(e,t){return w(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?w(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=w(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("1nuA");function w(e,t,n){if(e&&r.isObject(e)&&e instanceof i)return e;var o=new i;return o.parse(e,t,n),o}i.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var w=e=c.join(a);if(w=w.trim(),!n&&1===e.split("#").length){var b=l.exec(w);if(b)return this.path=w,this.href=w,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(w);if(_){var k=(_=_[0]).toLowerCase();this.protocol=k,w=w.substr(_.length)}if(n||_||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===w.substr(0,2);!C||_&&g[_]||(w=w.substr(2),this.slashes=!0)}if(!g[_]&&(C||_&&!v[_])){for(var x,T,S=-1,I=0;I<p.length;I++){-1!==(F=w.indexOf(p[I]))&&(-1===S||F<S)&&(S=F)}-1!==(T=-1===S?w.lastIndexOf("@"):w.lastIndexOf("@",S))&&(x=w.slice(0,T),w=w.slice(T+1),this.auth=decodeURIComponent(x)),S=-1;for(I=0;I<d.length;I++){var F;-1!==(F=w.indexOf(d[I]))&&(-1===S||F<S)&&(S=F)}-1===S&&(S=w.length),this.host=w.slice(0,S),w=w.slice(S),this.parseHost(),this.hostname=this.hostname||"";var $="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!$)for(var G=this.hostname.split(/\./),O=(I=0,G.length);I<O;I++){var N=G[I];if(N&&!N.match(h)){for(var K="",P=0,D=N.length;P<D;P++)N.charCodeAt(P)>127?K+="x":K+=N[P];if(!K.match(h)){var j=G.slice(0,I),M=G.slice(I+1),E=N.match(f);E&&(j.push(E[1]),M.unshift(E[2])),M.length&&(w="/"+M.join(".")+w),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=o.toASCII(this.hostname));var V=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+V,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!m[k])for(I=0,O=u.length;I<O;I++){var L=u[I];if(-1!==w.indexOf(L)){var A=encodeURIComponent(L);A===L&&(A=escape(L)),w=w.split(L).join(A)}}var R=w.indexOf("#");-1!==R&&(this.hash=w.substr(R),w=w.slice(0,R));var U=w.indexOf("?");if(-1!==U?(this.search=w.substr(U),this.query=w.substr(U+1),t&&(this.query=y.parse(this.query)),w=w.slice(0,U)):t&&(this.search="",this.query={}),w&&(this.pathname=w),v[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){V=this.pathname||"";var z=this.search||"";this.path=V+z}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),o&&"#"!==o.charAt(0)&&(o="#"+o),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+o},i.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(r.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,o=Object.keys(this),s=0;s<o.length;s++){var a=o[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var w=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=b||w||n.host&&e.pathname,k=_,C=n.pathname&&n.pathname.split("/")||[],x=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),_=_&&(""===f[0]||""===C[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(x)n.hostname=n.host=C.shift(),($=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=$.shift(),n.host=n.hostname=$.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=C.slice(-1)[0],S=(n.host||e.host||C.length>1)&&("."===T||".."===T)||""===T,I=0,F=C.length;F>=0;F--)"."===(T=C[F])?C.splice(F,1):".."===T?(C.splice(F,1),I++):I&&(C.splice(F,1),I--);if(!_&&!k)for(;I--;I)C.unshift("..");!_||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),S&&"/"!==C.join("/").substr(-1)&&C.push("");var $,G=""===C[0]||C[0]&&"/"===C[0].charAt(0);x&&(n.hostname=n.host=G?"":C.length?C.shift():"",($=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=$.shift(),n.host=n.hostname=$.shift()));return(_=_||n.host&&C.length)&&!G&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},W3Iv:function(e,t,n){e.exports={default:n("wEtr"),__esModule:!0}},awiu:function(e,t){},ay5v:function(e,t){},d80H:function(e,t){},gMF3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("bOdI"),r=n.n(o),i=n("mvHQ"),s=n.n(i),a=n("GeYD"),l=n("u4Bf"),c=n.n(l),u=n("5fLu"),d=n("PJh5"),p=n.n(d),h=n("Xxa5"),f=n.n(h),m=n("exGp"),g=n.n(m),v=n("mtWM"),y=n.n(v),w=n("CVRa"),b=(n("UZ5h"),{name:"BatchEditFiles",props:{batchEditGroupNames:{type:Array,default:[]}},data:function(){return{fileList:[],extraData:null,correctArry:[],atchKnow:{excelPathTip:"",errorMessage:"",excelPath:"",filePath:"",filePathNew:"",excelPathTipNew:"",excelPathNew:""}}},computed:{groupId:function(){if(this.$route.path){var e=this.$route.path.split("/");return e[e.length-2]}return""}},methods:{close:function(){this.$emit("closeDrawer")},uploadFile:function(){var e=this;return g()(f.a.mark(function t(){var n,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n={id:e.groupId,sourceType:102,excelTemplateType:10,filePath:e.atchKnow.excelPath}).filePath){t.next=4;break}return e.$message.error("必须上传文件"),t.abrupt("return");case 4:return t.next=6,y.a.post(e.$baseUrl+"knowledge/batchModifyKnowledge.json",n);case 6:if(o=t.sent,o.data.resultMessageEnum===w.b){t.next=11;break}return e.$message.error("批量修改知识库失败"),t.abrupt("return");case 11:e.$emit("uploadSuccess");case 12:case"end":return t.stop()}},t,e)}))()},downloadTemplate:function(){var e=this;return g()(f.a.mark(function t(){var n,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post(e.$baseUrl+"knowledge/exportKnowledgeListTemplateExcel.json",e.batchEditGroupNames);case 2:n=t.sent,"0000"==(o=n.data).resultMessageEnum?(window.location.href=e.$baseUrl+"file/downloadFile.html?filePath="+o.returnObject.filePath,e.$message.success("导出成功")):e.$message.error("导出失败");case 5:case"end":return t.stop()}},t,e)}))()},uploadAnnexFile:function(e){var t=this,n=new FormData;n.append("sourceType",102),n.append("file",$("#"+e)[0].files[0]),$.ajax({url:this.$baseUrl+"common/uploadAnnexFile.json",type:"POST",cache:!1,data:n,dataType:"json",headers:{"Content-Type":"multipart/form-data"},processData:!1,contentType:!1,async:!1}).done(function(e){"0000"===e.resultMessageEnum?(t.upload_img_index>-1?(t.correctArry[t.upload_img_index].excelPathTip=t.correctArry[self.upload_img_index].filePath,t.correctArry[t.upload_img_index].excelPath=e.returnObject):(t.atchKnow.excelPathTip=t.atchKnow.filePath,t.atchKnow.excelPath=e.returnObject),t.checkAnnexFile()):t.$message.error("上传失败！")}).fail(function(e){})},checkAnnexFile:function(){var e=this,t={excelTemplateType:10};this.upload_img_index>-1?t.filePath=this.correctArry[this.upload_img_index].excelPath:t.filePath=this.atchKnow.excelPath,$.post(this.$baseUrl+"common/checkAnnexFile.json",s()(t)).then(function(t){if("0000"===t.resultMessageEnum){var n={};if(t.returnObject.correctFlag)n={nextUpload:!1,correctFilePath:t.returnObject.correctFilePath};else{var o=t.returnObject.rowNumber-t.returnObject.exceptionRowNumber+"条上传成功，剩余"+t.returnObject.exceptionRowNumber+"条上传失败！";e.correctArry.length>0?e.correctArry[e.upload_img_index].errorMessage=o:e.atchKnow.errorMessage=o;var r=(~~(1e5*Math.random())).toString();n={nextUpload:!0,correctFilePath:t.returnObject.correctFilePath,errorFilePath:e.$baseUrl+"file/downloadFile.html?filePath="+t.returnObject.errorFilePath,id:"file_"+r}}e.correctArry.push(n),e.upload_img_index++}else e.$message.error(t.errorInfoList[0].errorMessage)})}}}),_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block"},[n("div",{staticClass:"batch-group"},[e._m(0),e._v(" "),n("div",{staticClass:"content-group"},[n("div",{staticClass:"column"}),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"content-item"},[e._v("请下载用于修改知识库问答的Excel模版文件")]),e._v(" "),n("div",{staticClass:"content-item"},[n("el-button",{staticClass:"download-button",attrs:{type:"primary",plain:""},on:{click:e.downloadTemplate}},[e._v("下载模板")])],1)])])]),e._v(" "),n("div",{staticClass:"batch-group"},[e._m(1),e._v(" "),n("div",{staticClass:"content-group"},[n("div",{staticClass:"content"},[n("div",{staticClass:"content-item"},[e._v("请上传已填写完成的Excel文件（建议最多不超过1000行）")]),e._v(" "),n("el-form",{ref:"uploadForm"},[n("el-form-item",[n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.atchKnow.errorMessage,expression:"!atchKnow.errorMessage"}],staticClass:"file-btn"},[n("el-input",{attrs:{multiple:"multiple",type:"file",id:"file"},on:{change:function(t){return e.uploadAnnexFile("file")}},model:{value:e.atchKnow.filePath,callback:function(t){e.$set(e.atchKnow,"filePath",t)},expression:"atchKnow.filePath"}}),e._v(" "),n("span",{staticClass:"upload-span"},[e._v("上传")])],1)],1)],1),e._v(" "),n("span",{staticClass:"blue"},[e._v(e._s(e.atchKnow.excelPathTip))]),e._v(" "),n("span",{staticClass:"red"},[e._v(e._s(e.atchKnow.errorMessage))])],1)])]),e._v(" "),n("div",{staticClass:"batch-footer"},[n("el-button",{staticClass:"batch-footer-button",on:{click:e.close}},[e._v("取消")]),e._v(" "),n("el-button",{staticClass:"batch-footer-button",attrs:{type:"primary"},on:{click:e.uploadFile}},[e._v("保存")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",{staticClass:"circle"},[this._v("1")]),this._v(" "),t("p",{staticClass:"title-text"},[this._v("下载模版")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",{staticClass:"circle"},[this._v("2")]),this._v(" "),t("p",{staticClass:"title-text"},[this._v("上传文件")])])}]};var k=n("VU/8")(b,_,!1,function(e){n("gbBT"),n("lAxd")},null,null).exports,C=n("lHA8"),x=n.n(C),T=n("M4fF"),S={props:{selection:Array,rowSelection:Boolean,stableSet:{type:x.a,default:function(){return new x.a([])}}},data:function(){return{records:[],queryKey:"",loading:!1,pager:{current:1,total:0,size:10}}},computed:{selectionSet:function(){return new x.a(this.selection.map(function(e){return e.id}))}},methods:{handleSelectionChange:function(e,t){t?this.$emit("selection-change",this.selection.concat(e)):this.$emit("selection-change",this.selection.filter(function(t){return t.id!==e.id}))},handlePageChange:function(e){this.pager.current=e},handleSearch:function(){this.queryRespository()},queryRespository:function(){var e=this;return g()(f.a.mark(function t(){var n,o,r,i,s;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,n=e.pager,t.prev=2,t.next=5,e.$apiClient.post("knowledge/queryKnowledgeGroupListOfPage.json",{searchType:"0",templateType:1,queryKey:e.queryKey?e.queryKey:void 0,pageSize:n.size,currentPage:n.current-1});case 5:o=t.sent,r=o.returnObject||{},i=r.totalNumber,s=r.recordList,Object(T.isUndefined)(i)||(e.pager.total=i),Object(T.isUndefined)(s)||(e.records=s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}},t,e,[[2,11,14,17]])}))()}},mounted:function(){this.queryRespository()},watch:{"pager.current":function(){this.queryRespository()}}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"table-head"},[n("el-input",{attrs:{clearable:"",placeholder:"筛选关键词"},model:{value:e.queryKey,callback:function(t){e.queryKey=t},expression:"queryKey"}}),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{stripe:"",data:e.records,"row-key":"id"}},[n("el-table-column",{attrs:{width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return e.rowSelection?[n("el-checkbox",{attrs:{disabled:e.stableSet.has(t.row.id),value:e.selectionSet.has(t.row.id)||e.stableSet.has(t.row.id)},on:{change:function(n){return e.handleSelectionChange(t.row,n)}}})]:void 0}}],null,!0)}),e._v(" "),n("el-table-column",{attrs:{prop:"groupName",label:"知识库模版名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"industryName",label:"行业领域",width:"250"}}),e._v(" "),n("el-table-column",{attrs:{prop:"editTime",label:"更新时间",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("acion-column",null,{row:t.row})]}}],null,!0)})],1),e._v(" "),n("div",{staticClass:"pagination-wrapper"},[n("el-pagination",{attrs:{"current-page":e.pager.current,"page-size":e.pager.size,layout:"total, prev, pager, next, jumper",total:e.pager.total},on:{"current-change":e.handlePageChange}})],1)],1)},staticRenderFns:[]};var F=n("VU/8")(S,I,!1,function(e){n("d80H")},"data-v-077582e0",null).exports,G={props:{knowledge:Object},filters:{formatLabel:function(e){return"回答"+(e+1)},formatName:function(e){return"name"+(e+1)}},methods:{handleVideo:function(e){this.$emit("openVideo",e)}}},O={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"config-card"},[n("div",{staticClass:"config-card-row"},[n("div",{staticClass:"question-title"},[e._v("主问题")]),e._v(" "),n("div",{staticClass:"question-content"},[e._v(e._s(e.knowledge.questionContent))])]),e._v(" "),n("div",{staticClass:"config-card-row"},[n("div",{staticClass:"question-title"},[e._v("相似问题")]),e._v(" "),n("div",{staticClass:"question-contents"},e._l(e.knowledge.questionContentOther.filter(function(e){return e.value}),function(t,o){return n("div",{key:o,staticClass:"question-content question-similer"},[n("el-tag",[e._v(e._s(t.value))])],1)}),0)]),e._v(" "),n("div",{staticClass:"config-card-row"},[n("div",{staticClass:"question-title",staticStyle:{"padding-top":"10px"}},[e._v("回答内容")]),e._v(" "),n("div",{staticClass:"question-content"},[n("el-tabs",{attrs:{value:"name1"}},e._l(e.knowledge.answerContent,function(t,o){return n("el-tab-pane",{key:o,attrs:{label:e._f("formatLabel")(o),name:e._f("formatName")(o)}},[n("div",{staticClass:"answer-content"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.soundPath,expression:"content.soundPath"}],staticClass:"iconfont icon-icon_play",on:{click:function(n){return e.handleVideo(t)}}}),e._v(" "),n("div",{staticClass:"answer-content-text"},[e._v(e._s(t.text))])])])}),1)],1)]),e._v(" "),n("div",{staticClass:"config-card-row"},[n("div",{staticClass:"question-title"},[e._v("关键词")]),e._v(" "),e._l(e.knowledge.keyWords,function(t){return n("div",{key:t,staticClass:"question-keywords"},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(t))])],1)})],2)])},staticRenderFns:[]};var N={components:{KnowledgeItem:n("VU/8")(G,O,!1,function(e){n("0pC0")},"data-v-d9ccb03c",null).exports,wVideo:n("uSxg").a},props:{groupId:String},data:function(){return{knowledges:[],pager:{current:1,size:10,total:0},videoVisible:!1,viewSource:"",viewPlaying:!1,loading:!1}},computed:{isKnowledgeEmpty:function(){return!this.loading&&0===this.knowledges.length}},created:function(){this.queryKnowledges()},methods:{handleVideo:function(e){var t=this;this.videoVisible=!0,this.$nextTick(function(){t.viewSource=e.soundPath})},handlePageChange:function(e){this.pager.current=e},queryKnowledges:function(){var e=this;return g()(f.a.mark(function t(){var n,o,r,i,s,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,n={templateSearch:0,groupId:e.groupId,searchType:"2",currentPage:e.pager.current-1,pageSize:e.pager.size},t.next=5,e.$apiClient.post("knowledge/queryKnowledgeItemList.json",n);case 5:o=t.sent,r=o.returnObject||{},i=r.totalNumber,s=r.recordList,Object(T.isUndefined)(i)||(e.pager.total=i),Object(T.isUndefined)(s)||((a=s).forEach(function(e,t){e.answerContent=JSON.parse(e.answerContent),e.questionContentOther=JSON.parse(e.questionContentOther).map(function(e){return{value:e}}),0===e.questionContentOther.length&&(e.questionContentOther=[{name:"相似问题",value:""}]),e.keyWords&&(e.keyWords=e.keyWords.split("|"))}),e.knowledges=a);case 9:return t.prev=9,e.loading=!1,t.finish(9);case 12:case"end":return t.stop()}},t,e,[[0,,9,12]])}))()}},watch:{"pager.current":function(){this.queryKnowledges()},videoVisible:function(e){e||a.a.$emit("viewPlaying",!0)}}},K={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("div",{staticClass:"knowledge-list"},e._l(e.knowledges,function(t){return n("knowledge-item",{key:t.id,attrs:{knowledge:t},on:{openVideo:e.handleVideo}})}),1),e._v(" "),e.isKnowledgeEmpty?n("div",{staticClass:"empty-content"},[e._v("话术知识库未填写内容")]):e._e(),e._v(" "),n("div",{staticClass:"pagination-wrapper"},[n("el-pagination",{attrs:{"current-page":e.pager.current,"page-size":e.pager.size,layout:"total, prev, pager, next, jumper",total:e.pager.total},on:{"current-change":e.handlePageChange}})],1),e._v(" "),n("el-dialog",{attrs:{title:"音频","append-to-body":!0,visible:e.videoVisible,width:"600px"},on:{"update:visible":function(t){e.videoVisible=t}}},[n("w-video",{attrs:{source:e.viewSource,playing:e.viewPlaying}})],1)],1)},staticRenderFns:[]};var P=n("VU/8")(N,K,!1,function(e){n("FZlx")},"data-v-00eddcb9",null).exports,D={components:{RepositoryTable:F,KnowledgeItemList:P},props:{visible:Boolean},data:function(){return{detailID:null,repositoryKey:0}},computed:{listVisible:function(){return null===this.detailID}},methods:{handleClose:function(){this.detailID=null,this.$emit("close")},handleViewClick:function(e){this.detailID=e},handleCopyClick:function(e){this.$emit("close"),this.$emit("copy",e)}},watch:{visible:function(e){e&&this.repositoryKey++}}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{"append-to-body":"",width:"80%",visible:e.visible},on:{close:e.handleClose}},[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("知识库模版")]),e._v(" "),e.listVisible?n("repository-table",{key:e.repositoryKey,attrs:{selection:[]},scopedSlots:e._u([{key:"acion-column",fn:function(t){return[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.handleViewClick(t.row.id)}}},[e._v("查看")]),e._v(" "),n("a",{style:{"margin-left":"10px"},attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.handleCopyClick(t.row)}}},[e._v("复制")])]}}],null,!1,4202845033)}):n("knowledge-item-list",{attrs:{groupId:e.detailID}}),e._v(" "),e.listVisible?e._e():n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"back-btn",attrs:{type:"primary"},on:{click:function(t){e.detailID=null}}},[e._v("返回列表")])],1)],1)},staticRenderFns:[]};var M=n("VU/8")(D,j,!1,function(e){n("oZJ6")},null,null).exports,E=n("Dd8w"),V=n.n(E),q=n("+6Bu"),L=n.n(q),A={components:{RepositoryTable:F,KnowledgeItemList:P},props:{visible:Boolean,defaultSelection:Array,stableSet:x.a},data:function(){return{selection:this.defaultSelection,detail:null,repositoryKey:0}},computed:{listVisible:function(){return null===this.detail},isSngleSelected:function(){var e=this;return!!this.detail&&(!!this.selection.find(function(t){return t.id===e.detail.id})||this.stableSet.has(this.detail.id))},isSngleDisabled:function(){return!!this.detail&&this.stableSet.has(this.detail.id)},groupId:function(){return this.detail&&this.detail.id}},methods:{handleClose:function(){this.selection=this.defaultSelection,this.detail=null,this.$emit("close")},handleSubmit:function(){this.$emit("submit",this.selection),this.handleClose()},handleViewClick:function(e){this.detail=e},handleSelectionChange:function(e){this.selection=e},handleSingleSelectChange:function(e){var t=this;this.selection=e?this.selection.concat(this.detail):this.selection.filter(function(e){return e.id!==t.detail.id})}},watch:{defaultSelection:function(e){this.selection=e},visible:function(e){e&&this.repositoryKey++}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.visible,"append-to-body":!0,title:"知识库模版",width:"80%"},on:{close:e.handleClose}},[e.listVisible?n("repository-table",{key:e.repositoryKey,attrs:{rowSelection:"",selection:e.selection,stableSet:e.stableSet},on:{"selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"acion-column",fn:function(t){return[n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.handleViewClick(t.row)}}},[e._v("查看")])]}}],null,!1,50977007)}):n("knowledge-item-list",{attrs:{groupId:e.groupId}}),e._v(" "),e.listVisible?n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1):n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-checkbox",{attrs:{value:e.isSngleSelected,disabled:e.isSngleDisabled},on:{change:e.handleSingleSelectChange}},[e._v("选择该模版")]),e._v(" "),n("el-button",{staticClass:"back-btn",attrs:{type:"primary"},on:{click:function(t){e.detail=null}}},[e._v("返回列表")])],1)],1)},staticRenderFns:[]};var U={name:"repository-select",components:{ListDialog:n("VU/8")(A,R,!1,function(e){n("6zP3")},"data-v-ce2bde52",null).exports},model:{prop:"selection",event:"change"},props:{selection:Array,stableSelection:Array},data:function(){return{dialogVisible:!1}},computed:{stableSet:function(){return new x.a((this.stableSelection||[]).map(function(e){return e.id}))}},methods:{handleSubmit:function(e){this.$emit("change",e)},handleRemove:function(e){this.$emit("change",this.selection.filter(function(t){return t.id!==e}))}}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"el-form-item__label action-label"},[e._v("\n    选择模版\n    ")]),e._v(" "),n("div",{staticClass:"selection"},[e._l(e.stableSelection||[],function(t){return n("el-tag",{key:t.id,attrs:{size:"medium"}},[e._v(e._s(t.groupName))])}),e._v(" "),e._l(e.selection,function(t){return n("el-tag",{key:t.id,attrs:{closable:"",size:"medium"},on:{close:function(n){return e.handleRemove(t.id)}}},[e._v(e._s(t.groupName))])}),e._v(" "),n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("+ 点击添加")])],2),e._v(" "),n("list-dialog",{attrs:{visible:e.dialogVisible,defaultSelection:e.selection,stableSet:e.stableSet},on:{close:function(t){e.dialogVisible=!1},submit:e.handleSubmit}})],1)},staticRenderFns:[]};var B=n("VU/8")(U,z,!1,function(e){n("tN/a")},"data-v-a8c2f17c",null).exports,J=n("d7EF"),W=n.n(J),H=n("W3Iv"),Y=n.n(H),Z={model:{prop:"soundState",event:"change"},props:{soundState:{type:Object,default:function(){return{copySoundFlag:0,soundGroupId:void 0}}}},data:function(){return{soundTypeList:[]}},computed:{isCopySound:function(){return 1===this.soundState.copySoundFlag}},methods:{querySoundConfigGroupList:function(){var e=this;return g()(f.a.mark(function t(){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$apiClient.get("sound/querySoundConfigGroupList.json");case 3:n=t.sent,e.soundTypeList=Y()(n.returnObject).map(function(e){return W()(e,2)[1]}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$message.error(t.t0.errorInfoList[0].errorMessage);case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},handleCheckboxChange:function(e){this.$emit("change",{copySoundFlag:e?1:0,soundGroupId:this.soundState.soundGroupId})},handleSelectChange:function(e){console.log(e);var t=this.soundState.copySoundFlag;this.$emit("change",{copySoundFlag:t,soundGroupId:e})}},created:function(){this.querySoundConfigGroupList()}},Q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:""}},[n("el-checkbox",{attrs:{value:e.isCopySound},on:{change:e.handleCheckboxChange}},[e._v("同时复制音频")])],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[e.isCopySound?n("el-select",{attrs:{value:e.soundState.soundGroupId,placeholder:"请选择音频文件夹"},on:{change:e.handleSelectChange}},e._l(e.soundTypeList,function(e){return n("el-option",{key:e.id,attrs:{label:e.configGroupName,value:e.id}})}),1):e._e()],1)],1)},staticRenderFns:[]};var X={components:{RepositorySelect:B,SoundFileCopy:n("VU/8")(Z,Q,!1,function(e){n("ay5v")},null,null).exports},props:{repositoryMenuForm:Array,visible:Boolean,initValues:Object,disabledCopy:Boolean,sound:Boolean},data:function(){return{loading:!1,formData:JSON.parse(s()(this.initValues))}},computed:{formRules:function(){return{groupName:{required:!0,message:"请输入知识库名称",trigger:"blur"}}},isCopySoundShow:function(){return this.sound||this.formData.useTemplate&&0===this.formData.referenceType},useTemplateLabel:function(){return this.disabledCopy?"选择关联问题还是关联完整问答":"选择复制还是关联知识库模版"}},methods:{handleCancel:function(){this.$emit("cancel")},handleSubmit:function(){var e=this;this.$refs.groupForm.validate(function(t){e.loading=!0,e.$emit("submit",{formData:e.formData,callback:function(){e.loading=!1}})})}},watch:{initValues:function(e){this.formData=JSON.parse(s()(e))}}},ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drawer-form"},[n("el-form",{ref:"groupForm",attrs:{model:e.formData,rules:e.formRules,"label-position":"top"}},[n("el-form-item",{attrs:{label:"知识库名称",prop:"groupName"}},[n("el-input",{model:{value:e.formData.groupName,callback:function(t){e.$set(e.formData,"groupName",t)},expression:"formData.groupName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"知识库分类",prop:"knowledgeTypeId"}},[n("el-select",{model:{value:e.formData.knowledgeTypeId,callback:function(t){e.$set(e.formData,"knowledgeTypeId",t)},expression:"formData.knowledgeTypeId"}},[n("el-option",{attrs:{label:"未分类",value:""}}),e._v(" "),e._l(e.repositoryMenuForm,function(e){return n("el-option",{key:e.id,attrs:{label:e.typeName,value:e.id}})})],2)],1),e._v(" "),e._t("default",[n("el-form-item",[n("el-checkbox",{model:{value:e.formData.useTemplate,callback:function(t){e.$set(e.formData,"useTemplate",t)},expression:"formData.useTemplate"}},[e._v("使用知识库模版")])],1),e._v(" "),e.formData.useTemplate?[n("el-form-item",{staticClass:"custom-form-item",attrs:{label:e.useTemplateLabel}},[n("div",{staticClass:"knowleage-reference-radio-group"},[e.disabledCopy?e._e():n("div",[n("el-radio",{attrs:{label:0},model:{value:e.formData.referenceType,callback:function(t){e.$set(e.formData,"referenceType",t)},expression:"formData.referenceType"}},[e._v("复制")])],1),e._v(" "),n("div",[e.disabledCopy?e._e():n("el-radio",{attrs:{label:1},model:{value:e.formData.referenceType,callback:function(t){e.$set(e.formData,"referenceType",t)},expression:"formData.referenceType"}},[e._v("关联")]),e._v(" "),1===e.formData.referenceType?n("div",[n("el-radio",{attrs:{label:0},model:{value:e.formData.relatedType,callback:function(t){e.$set(e.formData,"relatedType",t)},expression:"formData.relatedType"}},[e._v("关联问题模板")]),e._v(" "),n("el-radio",{attrs:{label:1},model:{value:e.formData.relatedType,callback:function(t){e.$set(e.formData,"relatedType",t)},expression:"formData.relatedType"}},[e._v("关联完整问答模板")])],1):e._e()],1)])]),e._v(" "),n("el-form-item",{staticClass:"custom-form-item"},[n("repository-select",{model:{value:e.formData.knowledgeTemplates,callback:function(t){e.$set(e.formData,"knowledgeTemplates",t)},expression:"formData.knowledgeTemplates"}})],1)]:e._e()],{formData:e.formData}),e._v(" "),e.isCopySoundShow?n("sound-file-copy",{model:{value:e.formData.soundCopy,callback:function(t){e.$set(e.formData,"soundCopy",t)},expression:"formData.soundCopy"}}):e._e(),e._v(" "),n("el-form-item",[n("div",{staticClass:"form-buttons"},[n("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{loading:e.loading,disabled:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)])],2)],1)},staticRenderFns:[]};var te=n("VU/8")(X,ee,!1,function(e){n("x/Fh")},"data-v-3de91b9e",null).exports,ne={components:{KnowledgeGroupForm:te},props:{repositoryMenuForm:Array,visible:Boolean},initValue:{groupName:"",knowledgeTypeId:"",useTemplate:!1,knowledgeTemplates:[],referenceType:0,relatedType:0},methods:{handleAddGroup:function(e){var t=this,n=e.formData,o=e.callback;return g()(f.a.mark(function e(){var r,i,s,a,l,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.groupName,i=n.knowledgeTemplates,s=n.useTemplate,a=n.knowledgeTypeId,l=L()(n,["groupName","knowledgeTemplates","useTemplate","knowledgeTypeId"]),c=V()({groupName:r,referenceTemplateIds:s?i.map(function(e){return e.id}):[],useTemplateFlag:s?1:0,knowledgeTypeId:a&&"unclassified"!==a?a:void 0},l),e.prev=2,e.next=5,t.$apiClient.post("knowledge/addKnowledgeGroup.json?",c);case 5:t.$emit("success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.$message.error(e.t0.errorInfoList[0].errorMessage);case 11:return e.prev=11,o(),e.finish(11);case 14:case"end":return e.stop()}},e,t,[[2,8,11,14]])}))()}}},oe={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("knowledge-group-form",{attrs:{initValues:e.$options.initValue,repositoryMenuForm:e.repositoryMenuForm,visible:e.visible},on:{cancel:function(t){return e.$emit("cancel")},submit:e.handleAddGroup}})},staticRenderFns:[]};var re=n("VU/8")(ne,oe,!1,function(e){n("zUU8")},null,null).exports,ie={components:{KnowledgeGroupForm:te},props:{repositoryMenuForm:Array,visible:Boolean,oldGroup:Object,disabledCopy:Boolean},data:function(){return{knowledgeGroup:{}}},computed:{initValue:function(){var e=this.knowledgeGroup,t=e.useTemplateFlag,n=e.referenceType,o=e.relatedType,r=e.referenceTemplates;return{groupName:this.oldGroup.groupName+"的副本",knowledgeTypeId:this.oldGroup.knowledgeTypeId||"",useTemplate:1===t,knowledgeTemplates:(r||[]).map(function(e){return{id:e.templateId,groupName:e.templateName}}),referenceType:this.disabledCopy?1:n?1:0,relatedType:o?1:0,soundCopy:{copySoundFlag:0,soundGroupId:void 0}}}},methods:{fetchKnowledgeGroup:function(){var e=this;return g()(f.a.mark(function t(){var n,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$loading({customClass:"top-zindex-mask"}),t.prev=1,t.next=4,e.$apiClient.get("/knowledge/queryKnowledgeGroupDetail.json",{params:{groupId:e.oldGroup.id}});case 4:o=t.sent,e.knowledgeGroup=o.returnObject,n.close(),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),n.close(),e.$message.error(t.t0.errorInfoList[0].errorMessage),e.$emit("cancel");case 14:case"end":return t.stop()}},t,e,[[1,9]])}))()},handleCopyGroup:function(e){var t=this,n=e.formData,o=e.callback;return g()(f.a.mark(function e(){var r,i,s,a,l,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.groupName,i=n.knowledgeTemplates,s=n.useTemplate,a=n.knowledgeTypeId,l=n.soundCopy,c=L()(n,["groupName","knowledgeTemplates","useTemplate","knowledgeTypeId","soundCopy"]),u=V()({newGroupName:r,oldGroupId:t.oldGroup.id,useTemplateFlag:s?1:0,knowledgeTemplateIds:s?i.map(function(e){return e.id}):[],knowledgeTypeId:a&&"unclassified"!==a?a:void 0,copySoundFlag:l.copySoundFlag,soundGroupId:l.soundGroupId},c),e.prev=2,e.next=5,t.$apiClient.post("knowledge/copyKnowledgeGroup.json",u);case 5:t.$emit("success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.$message.error(e.t0.errorInfoList[0].errorMessage);case 11:return e.prev=11,o(),e.finish(11);case 14:case"end":return e.stop()}},e,t,[[2,8,11,14]])}))()}},created:function(){this.fetchKnowledgeGroup()},watch:{"oldGroup.id":function(){this.fetchKnowledgeGroup()}}},se={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("knowledge-group-form",{attrs:{initValues:e.initValue,repositoryMenuForm:e.repositoryMenuForm,visible:e.visible,disabledCopy:e.disabledCopy,sound:!0},on:{cancel:function(t){return e.$emit("cancel")},submit:e.handleCopyGroup}})},staticRenderFns:[]};var ae=n("VU/8")(ie,se,!1,function(e){n("awiu")},null,null).exports,le={components:{KnowledgeGroupForm:te,RepositorySelect:B},props:{id:String,repositoryMenuForm:Array,visible:Boolean},data:function(){return{knowledgeGroup:null}},computed:{initValue:function(){var e=this.knowledgeGroup||{},t=e.groupName,n=e.knowledgeTypeId,o=e.useTemplateFlag,r=e.referenceType,i=e.relatedType;return{groupName:t,knowledgeTypeId:n||"",useTemplate:1===o,knowledgeTemplates:[],referenceType:r||0,relatedType:i||0}},isReference:function(){var e=this.knowledgeGroup||{},t=e.useTemplateFlag,n=e.referenceType;return 1===t&&1===n},stableSelection:function(){var e=this.knowledgeGroup||{},t=e.referenceTemplates;return 0===e.referenceType?[]:(t||[]).map(function(e){return{id:e.templateId,groupName:e.templateName}})},labelTitle:function(){var e=this.knowledgeGroup||{},t=e.referenceType,n=e.relatedType;return 0===t?"已复制知识库模版":"已关联知识库模版"+(0===n?"问题模板":"问答模板")}},methods:{referenceAlert:function(){this.$confirm("新增关联知识库模版后不可改变或取消","新增关联提示",{confirmButtonText:"知道了",cancelButtonText:"取消",type:"warning"})},fetchKnowledgeGroup:function(){var e=this;return g()(f.a.mark(function t(){var n,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$loading({customClass:"top-zindex-mask"}),t.prev=1,t.next=4,e.$apiClient.get("/knowledge/queryKnowledgeGroupDetail.json",{params:{groupId:e.id}});case 4:o=t.sent,e.knowledgeGroup=o.returnObject,n.close(),e.$nextTick(function(){e.isReference&&e.referenceAlert()}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),n.close(),e.$message.error(t.t0.errorInfoList[0].errorMessage),e.$emit("cancel");case 15:case"end":return t.stop()}},t,e,[[1,10]])}))()},handleEditGroup:function(e){var t=this,n=e.formData,o=e.callback;return g()(f.a.mark(function e(){var r,i,s,a,l,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.groupName,i=n.knowledgeTemplates,s=n.useTemplate,a=n.knowledgeTypeId,l=L()(n,["groupName","knowledgeTemplates","useTemplate","knowledgeTypeId"]),c=V()({id:t.id,groupName:r,useTemplateFlag:s?1:0,knowledgeTemplateIds:s?i.concat(t.stableSelection).map(function(e){return e.id}):[],knowledgeTypeId:a&&"unclassified"!==a?a:void 0},l),e.prev=2,e.next=5,t.$apiClient.post("knowledge/modifyKnowledgeGroup.json",c);case 5:t.$emit("success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.$message.error(e.t0.errorInfoList[0].errorMessage);case 11:return e.prev=11,o(),e.finish(11);case 14:case"end":return e.stop()}},e,t,[[2,8,11,14]])}))()}},created:function(){this.fetchKnowledgeGroup()},watch:{id:function(){this.fetchKnowledgeGroup()}}},ce={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("knowledge-group-form",{attrs:{initValues:e.initValue,repositoryMenuForm:e.repositoryMenuForm,visible:e.visible},on:{cancel:function(t){return e.$emit("cancel")},submit:e.handleEditGroup},scopedSlots:e._u([e.isReference?{key:"default",fn:function(t){return[n("el-form-item",{staticClass:"custom-form-item",attrs:{label:e.labelTitle}}),e._v(" "),n("el-form-item",{staticClass:"custom-form-item"},[n("repository-select",{attrs:{stableSelection:e.stableSelection},model:{value:t.formData.knowledgeTemplates,callback:function(n){e.$set(t.formData,"knowledgeTemplates",n)},expression:"slotProps.formData.knowledgeTemplates"}})],1)]}}:null],null,!0)})},staticRenderFns:[]};var ue,de=n("VU/8")(le,ce,!1,function(e){n("orxT")},null,null).exports,pe={name:"basetable",components:{draggable:c.a,BatchEditFiles:k,ManageReposList:M,KnowledgeGroupForm:re,KnowledgeGroupCopyForm:ae,KnowledgeGroupEditForm:de},data:function(){return{checkAll:!1,tableLoading:!0,select_word:"",itemActive:0,height:500,tableHeight:300,cur_page:1,repositoryData:[],removeTypeName:"",moveItemName:"",moveItemId:"",moveItemNameTitle:"",multipleSelection:[],oldRepositoryMenu:[],moveItemsVisible:!1,removeTypeVisible:!1,delVisible:!1,activeName:"first",moveRepositoryMenu:[],addGroupIndex:1,pagination:{show:!0,total:0,pageIndex:1,pageSize:20},creatFAQVForm:{questionContent:"",questionContentOther:[{name:"相似问题",value:""}],creatFAQOptions:[],answerContent:""},isNewFile:!1,atchKnow:{excelPathTip:"",errorMessage:"",excelPath:"",filePath:"",filePathNew:"",excelPathTipNew:"",excelPathNew:""},upload_img_index:-1,correctArry:[],atchKnowRules:{filePath:[{required:!0,message:"请上传知识问答Excel数据！",trigger:"change"}]},listOfPageData:[],typeListData:[],addGroupVisible:!1,addGroupForm:{},addGroupFormRules:{groupName:[{required:!0,message:"输入知识库名称",trigger:"blur"}]},modifyGroupVisible:!1,modifyGroupForm:{groupName:"",id:""},modifyGroupFormRules:{groupName:[{required:!0,message:"输入知识库名称",trigger:"blur"}]},knowledgeCurrent:"",knowledgeTypeListCurrent:"",delItemsVisible:!1,tabItem:"a",groupId:"",searchType:"",queryKey:"",sortMethod:[{label:"更新时间顺序排列",value:"asc"},{label:"更新时间倒序排列",value:"desc"}],sortMethodResult:"",showDrawer:!1,editKnowleageForm:{groupName:"",knowledgeTypeId:"",useTemplate:!1,knowledgeTemplates:[],referenceType:0,relatedType:0},editKnowleageFormRules:{groupName:{required:!0,message:"请输入知识库名称",trigger:"blur"}},deleteSingleKnowleage:null,drawerTitle:"编辑知识库",deleteItemsVisible:!1,showBatchEditFiles:!1,batchEditGroupNames:[],manangeReposVisible:!1,initFormValues:{},konwledgeFormType:""}},created:function(){var e=this,t=document.documentElement.clientHeight;this.tableHeight=t-260,a.a.$emit("contentTop",!1),this.id=this.$route.params.id,this.queryKnowledgeGroupListOfPage(),a.a.$on("manangeReposVisible",function(){e.manangeReposVisible=!0})},computed:{repositoryMenuForm:function(){return this.repositoryMenu.map(function(e){return{typeName:e.typeName,id:e.id}})},repositoryMenu:function(){return this.$store.getters.getKnowledgeData||[]},knowledgeFormTitle:function(){switch(this.konwledgeFormType){case"COPY":case"TMP_COPY":return"复制知识库";case"ADD":return"新建知识库";case"EDIT":return"编辑知识库";default:return""}}},methods:(ue={uploadEditSuccess:function(){this.showBatchEditFiles=!1,this.$message.success("批量修改成功")},handleCheckAllChange:function(e){this.multipleSelection=e?this.listOfPageData.map(function(e){return e.id}):[]},handleDropdown:function(e){var t=this;switch(e){case"export":this.exportKnowleageList();break;case"move":this.moveKnowleageList();break;case"edit":if(0===this.multipleSelection.length)return void this.$message.info("请勾选知识库!");this.showBatchEditFiles=!0,this.batchEditGroupNames=this.listOfPageData.filter(function(e){var n=e.id;return t.multipleSelection.indexOf(n)>=0}).map(function(e){return e.groupName});break;case"delete":this.deleteKnowleageListAction();break;case"deploy":this.deployKnowleageList()}},dropMultipleSelection:function(){this.multipleSelection=[]},deployKnowleageList:function(){var e=this;$.post(this.$baseUrl+"knowledge/batchPublishKnowledgeGroup.json",s()(this.multipleSelection)).then(function(t){"0000"==t.resultMessageEnum?(e.$message.success("发布成功"),e.dropMultipleSelection(),e.queryKnowledgeGroupListOfPage()):e.$message.error("发布失败")})},deleteKnowleageListAction:function(){0!==this.multipleSelection.length?this.deleteItemsVisible=!0:this.$message.info("请勾选知识库!")},deleteKnowleageList:function(){var e=this;this.deleteItemsVisible=!1,$.post(this.$baseUrl+"knowledge/removeKnowledgeGroupList.json",s()(this.multipleSelection)).then(function(t){"0000"==t.resultMessageEnum?(e.$message.success("删除成功"),e.dropMultipleSelection(),e.queryKnowledgeGroupListOfPage()):e.$message.error("删除失败")})},exportKnowleageList:function(){var e=this;0!==this.multipleSelection.length?$.post(this.$baseUrl+"knowledge/batchExportKnowledgeExcelFile.json",s()(this.multipleSelection)).then(function(t){"0000"==t.resultMessageEnum?(e.multipleSelection=[],window.location.href=e.$baseUrl+"file/downloadFile.html?filePath="+t.returnObject.filePath,e.$message.success("导出成功")):e.$message.error("导出失败")}):this.$message.info("请勾选知识库!")},saveFile:function(e){fetch(this.$baseUrl+"file/downloadFile.json?filePath="+e).then(function(e){return e.blob()}).then(function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="知识库列表"+p()().format("YYYY-MM-DD HH:mm:SS")+".xlsx",document.body.appendChild(n),n.click()})},submitForm:function(e){var t=this;if("新增知识库"!==this.drawerTitle){var n={groupName:e.groupName,id:e.id,knowledgeTypeId:e.knowledgeTypeId};Object(u.b)(n).then(function(e){var n=e.data;"0000"==n.resultMessageEnum?(t.showDrawer=!1,t.queryKnowledgeGroupListOfPage()):t.$message.error(n.errorInfoList[0].errorMessage)}).catch(function(e){t.$message.error("其他错误！")})}},addGroupAction:function(){this.konwledgeFormType="ADD",this.showDrawer=!0},handleEditClick:function(e){this.initFormValues={id:e.id},this.showDrawer=!0,this.konwledgeFormType="EDIT"},handleCopyClick:function(e){this.initFormValues={groupName:e.groupName,knowledgeTypeId:e.knowledgeTypeId,id:e.id},this.showDrawer=!0,this.konwledgeFormType="COPY"},handleTmpCopy:function(e){this.initFormValues={id:e.id,groupName:e.groupName,knowledgeTypeId:e.knowledgeTypeId},this.showDrawer=!0,this.konwledgeFormType="TMP_COPY"},sortAction:function(e){"asc"===e?this.listOfPageData.sort(function(e,t){return e.editTime.replace(/-/g,"").replace(/:/g,"").replace(" ","")-t.editTime.replace(/-/g,"").replace(/:/g,"").replace(" ","")}):this.listOfPageData.sort(function(e,t){return t.editTime.replace(/-/g,"").replace(/:/g,"").replace(" ","")-e.editTime.replace(/-/g,"").replace(/:/g,"").replace(" ","")})},table:function(e,t){return 0==e.itemUpdateFlag},handleConfig:function(e){this.$store.dispatch("setknowledgeList",e.groupName),this.$router.push("/repository/sub/"+e.id+"/"+e.groupName)},handleCurrentChange:function(e){this.cur_page=e,this.queryKnowledgeGroupListOfPage()},handleSelectionChange:function(){},sortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}],this.queryKnowledgeGroupListOfPage()},queryKnowledgeGroupListOfPage:function(e,t){var n=this,o={currentPage:this.cur_page-1,pageSize:this.pagination.pageSize,templateType:2};this.tableLoading=!0,"unclassified"==this.id?(o.typeId="",o.searchType=1):(o.typeId=this.id,o.searchType=2);var r=this.select_word;r&&(o.queryKey=r),this.sortList&&(o.sortList=this.sortList),$.post(this.$baseUrl+"knowledge/queryKnowledgeGroupListOfPage.json",s()(o)).then(function(o){if("0000"==o.resultMessageEnum){var r=o.returnObject&&o.returnObject.recordList;r&&(void 0!==t&&(n.itemActive=t),e&&("unclassified"==e?(n.id="unclassified",n.activeGroupName="未分类"):(n.id=e.id,n.activeGroupName=e.typeName)),n.listOfPageData=r);var i=[];"unclassified"!=n.id&&n.repositoryMenu.length?n.repositoryMenu.forEach(function(e){e.id!=n.id&&i.push(e)}):i=n.repositoryMenu,n.moveRepositoryMenu=i,n.pagination.total=o.returnObject.totalNumber}else n.$message.error(o.errorInfoList[0].errorMessage);n.tableLoading=!1})},handleFormCancel:function(){var e=this;this.showDrawer=!1,this.$nextTick(function(){return e.resetKnowledgeForm()})},handleSuccess:function(){var e=this;this.showDrawer=!1,this.$message({message:this.knowledgeFormTitle+"成功！",type:"success"}),this.$nextTick(function(){return e.resetKnowledgeForm()}),this.queryKnowledgeGroupListOfPage()},removeKnowledgeGroup:function(){var e=this,t={groupName:this.addGroupForm.groupName,knowledgeTypeId:this.id};$.post(this.$baseUrl+"knowledge/removeKnowledgeGroup.json?",s()(t)).then(function(t){"0000"==t.resultMessageEnum?e.queryKnowledgeGroupListOfPage():e.$message.error(t.errorInfoList[0].errorMessage)})},handleModifyGroup:function(e){this.modifyGroupForm.groupName=e.groupName,this.modifyGroupForm.id=e.id,this.modifyGroupVisible=!0},modifyKnowledgeGroup:function(){var e=this,t={groupName:this.modifyGroupForm.groupName,id:this.modifyGroupForm.id};this.$refs.modifyGroupForm.validate(function(n){$.post(e.$baseUrl+"knowledge/modifyKnowledgeGroup.json?",s()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.modifyGroupVisible=!1,e.queryKnowledgeGroupListOfPage()):e.$message.error(t.errorInfoList[0].errorMessage)})})},search:function(){this.cur_page=1,this.pagination.total=0,this.queryKnowledgeGroupListOfPage()},searchChange:function(e){e||this.queryKnowledgeGroupListOfPage()},handleCommand:function(e){var t;t=this.moveRepositoryMenu.find(function(t){return t.id===e}),this.moveItemName=t?t.typeName:"未分类",this.moveItemId=t?t.id:null,this.moveItemNameTitle="移动到“"+this.moveItemName+"”",this.multipleSelection.length?this.moveItemsVisible=!0:this.$message.error("请选择要移动的知识库!")},moveKnowledgeGroup:function(){var e=this,t=[];this.multipleSelection.forEach(function(e){t.push(e)});var n={newTypeId:this.moveItemId,knowledgeGroupIdList:t};$.post(this.$baseUrl+"knowledge/moveKnowledgeGroup.json",s()(n)).then(function(t){"0000"==t.resultMessageEnum&&(e.multipleSelection=[],e.queryKnowledgeGroupListOfPage(),e.$message.success("移动成功！"),e.moveItemsVisible=!1)})},moveKnowledgeItem:function(){var e=this,t=[];this.multipleSelection.forEach(function(e){t.push(e.id)});var n={newGroupId:this.moveItemId,knowledgeItemIdList:t};$.post(this.$baseUrl+"knowledge/moveKnowledgeItem.json",s()(n)).then(function(t){"0000"==t.resultMessageEnum&&(e.multipleSelection=[],e.queryKnowledgeGroupListOfPage(),e.$message.success("移动成功！"),e.moveItemsVisible=!1)})}},r()(ue,"handleSelectionChange",function(e){this.multipleSelection=e}),r()(ue,"deletItem",function(e){this.delVisible=!0,this.delActiveItemId=e.id}),r()(ue,"handleDelItems",function(e){e?(this.deleteSingleKnowleage=e,this.delItemsVisible=!0):this.multipleSelection.length?this.delItemsVisible=!0:this.$message.error("请选择要删除的FAQ!")}),r()(ue,"removeKnowledgeGroupList",function(){var e=this,t=[];this.deleteSingleKnowleage?t.push(this.deleteSingleKnowleage):t=this.multipleSelection,$.post(this.$baseUrl+"knowledge/removeKnowledgeGroupList.json",s()(t)).then(function(t){"0000"==t.resultMessageEnum?(e.delItemsVisible=!1,e.multipleSelection=[],e.queryKnowledgeGroupListOfPage()):e.$message.error(t.errorInfoList[0].errorMessage)})}),r()(ue,"publishKnowledgeGroup",function(e,t){var n=this;t.id;$.post(this.$baseUrl+"knowledge/publishKnowledgeGroup.json?groupId="+t.id).then(function(t){"0000"==t.resultMessageEnum?(n.listOfPageData[e].itemUpdateFlag=0,n.$message.success("发布成功")):n.$message.error(t.errorInfoList[0].errorMessage)})}),r()(ue,"goGeneral",function(){this.$router.push("/generalknowledge")}),r()(ue,"resetKnowledgeForm",function(){this.initFormValues={},this.konwledgeFormType=""}),ue),watch:{$route:function(e,t){this.id=this.$route.params.id,this.multipleSelection=[],this.queryKnowledgeGroupListOfPage()},addGroupVisible:function(e){e||this.$refs.addGroupForm.resetFields()},modifyGroupVisible:function(e){e||this.$refs.modifyGroupForm.resetFields()}},destroyed:function(){}},he={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("div",{staticClass:"box-card repository-card",attrs:{height:e.height}},[o("div",{staticClass:"content-head"},[o("div",[o("el-input",{staticClass:"handle-input mr10",attrs:{clearable:"",placeholder:"筛选关键词"},on:{change:e.searchChange},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.search(t):null}},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),o("div",{staticClass:"right-menu-box"},[o("div",{staticClass:"right-menu-item"},[o("el-button",{attrs:{type:"primary",icon:"iconfont icon-icon_rep_search"},on:{click:e.addGroupAction}},[e._v(" 新增知识库")])],1),e._v(" "),o("el-dropdown",{on:{command:e.handleDropdown}},[o("el-button",{attrs:{type:"primary"}},[o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"export"}},[e._v("批量导出知识库")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"edit"}},[e._v("批量修改知识库")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"delete"}},[e._v("批量删除知识库")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"deploy"}},[e._v("批量发布知识库")])],1)],1),e._v(" "),e.multipleSelection.length?o("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[o("span",{staticClass:"el-dropdown-link"},[o("el-button",{attrs:{icon:"iconfont icon-icon_move"}})],1),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[e._v("未分类")]),e._v(" "),e._l(e.moveRepositoryMenu,function(t){return o("el-dropdown-item",{key:t.id,attrs:{command:t.id}},[e._v(e._s(t.typeName))])})],2)],1):e._e()],1)]),e._v(" "),o("div",{staticClass:"sub-header"},[o("el-checkbox",{on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),o("el-select",{attrs:{placeholder:"排序方式"},on:{change:e.sortAction},model:{value:e.sortMethodResult,callback:function(t){e.sortMethodResult=t},expression:"sortMethodResult"}},e._l(e.sortMethod,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-checkbox-group",{model:{value:e.multipleSelection,callback:function(t){e.multipleSelection=t},expression:"multipleSelection"}},[o("el-row",{staticClass:"card-group",attrs:{gutter:10,type:"flex"}},e._l(e.listOfPageData,function(t){return o("el-col",{key:t.id,attrs:{span:6}},[o("el-card",{staticClass:"card-item"},[o("el-checkbox",{staticClass:"card-checkbox",attrs:{label:t.id}},[o("img",{staticClass:"image knowledge-image",attrs:{src:n("tnNP")}})]),e._v(" "),o("div",{staticStyle:{padding:"14px"}},[o("i",{staticClass:"el-icon-edit-outline edit",on:{click:function(n){return e.handleModifyGroup(t)}}}),e._v(" "),o("span",[e._v(e._s(t.groupName))]),e._v(" "),o("div",{staticClass:"time"},[o("span",[e._v("更新时间 ")]),e._v("\n                "+e._s(t.editTime)+"\n              ")]),e._v(" "),o("div",{staticClass:"bottom clearfix operation-buttons"},[o("i",{staticClass:"el-icon-edit",on:{click:function(n){return e.handleEditClick(t)}}}),e._v(" "),o("i",{staticClass:"el-icon-view",on:{click:function(n){return e.handleConfig(t)}}}),e._v(" "),o("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.handleDelItems(t.id)}}}),e._v(" "),o("i",{staticClass:"el-icon-document-copy",on:{click:function(n){return e.handleCopyClick(t)}}})])])],1)],1)}),1)],1)],1),e._v(" "),o("div",{staticClass:"pagination"},[o("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper",total:e.pagination.total,"page-size":e.pagination.pageSize},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),o("el-dialog",{staticClass:"creat-faq-dialog",attrs:{title:"修改名称",visible:e.modifyGroupVisible,width:"600px"},on:{"update:visible":function(t){e.modifyGroupVisible=t}}},[o("el-form",{ref:"modifyGroupForm",attrs:{model:e.modifyGroupForm,"label-width":"114px",rules:e.modifyGroupFormRules}},[o("el-form-item",{attrs:{label:"知识库名称",prop:"groupName"}},[o("el-input",{attrs:{placeholder:"输入知识库名称"},model:{value:e.modifyGroupForm.groupName,callback:function(t){e.$set(e.modifyGroupForm,"groupName",t)},expression:"modifyGroupForm.groupName"}})],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.modifyGroupVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.modifyKnowledgeGroup}},[e._v("确 定")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"删除知识库",visible:e.delItemsVisible,width:"400px"},on:{"update:visible":function(t){e.delItemsVisible=t}}},[o("div",[e._v("您确定要删除已选择的知识库吗？如果知识库正在使用中，删除后将不能在已关联的话术中正常使用。")]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.delItemsVisible=!1,e.deleteSingleKnowleage=null}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.removeKnowledgeGroupList}},[e._v("确 定")])],1)]),e._v(" "),o("el-dialog",{attrs:{title:e.moveItemNameTitle,visible:e.moveItemsVisible,width:"400px"},on:{"update:visible":function(t){e.moveItemsVisible=t}}},[o("div",[e._v("您确定要移动此"+e._s(e.multipleSelection.length)+"条知识库到"+e._s(e.moveItemName)+"吗？")]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.moveItemsVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.moveKnowledgeGroup}},[e._v("确 定")])],1)]),e._v(" "),o("el-dialog",{attrs:{title:"删除知识库",visible:e.deleteItemsVisible,width:"400px"},on:{"update:visible":function(t){e.deleteItemsVisible=t}}},[o("div",[e._v("您确定要删除"+e._s(e.multipleSelection.length)+"条知识库吗？")]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.deleteItemsVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.deleteKnowleageList}},[e._v("确 定")])],1)]),e._v(" "),o("el-drawer",{attrs:{title:e.knowledgeFormTitle,visible:e.showDrawer},on:{"update:visible":function(t){e.showDrawer=t}}},["ADD"===e.konwledgeFormType?o("knowledge-group-form",{attrs:{repositoryMenuForm:e.repositoryMenuForm,visible:e.showDrawer},on:{cancel:e.handleFormCancel,success:e.handleSuccess}}):"COPY"===e.konwledgeFormType||"TMP_COPY"===e.konwledgeFormType?o("knowledge-group-copy-form",{attrs:{repositoryMenuForm:e.repositoryMenuForm,visible:e.showDrawer,oldGroup:e.initFormValues,disabledCopy:"TMP_COPY"===e.konwledgeFormType},on:{cancel:e.handleFormCancel,success:e.handleSuccess}}):"EDIT"===e.konwledgeFormType?o("knowledge-group-edit-form",{attrs:{repositoryMenuForm:e.repositoryMenuForm,visible:e.showDrawer,id:e.initFormValues.id},on:{cancel:e.handleFormCancel,success:e.handleSuccess}}):e._e()],1),e._v(" "),o("el-drawer",{staticClass:"batch-drawer",attrs:{title:"批量修改问答",visible:e.showBatchEditFiles},on:{"update:visible":function(t){e.showBatchEditFiles=t}}},[o("BatchEditFiles",{attrs:{batchEditGroupNames:e.batchEditGroupNames},on:{uploadSuccess:e.uploadEditSuccess,closeDrawer:function(t){e.showBatchEditFiles=!1}}})],1),e._v(" "),o("manage-repos-list",{attrs:{visible:e.manangeReposVisible},on:{copy:e.handleTmpCopy,close:function(t){e.manangeReposVisible=!1}}})],1)},staticRenderFns:[]};var fe=n("VU/8")(pe,he,!1,function(e){n("0mR5"),n("LUns")},"data-v-3bc186e8",null);t.default=fe.exports},gSvA:function(e,t,n){var o=n("kM2E"),r=n("mbce")(!0);o(o.S,"Object",{entries:function(e){return r(e)}})},gbBT:function(e,t){},ioQ5:function(e,t,n){n("HpRW")("Set")},kMPS:function(e,t,n){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,h,f,m=e[u].replace(a,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),o(s,h)?r(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},lAxd:function(e,t){},lHA8:function(e,t,n){e.exports={default:n("pPW7"),__esModule:!0}},m9gC:function(e,t,n){var o=n("RY/4"),r=n("4WTo");e.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},mbce:function(e,t,n){var o=n("+E39"),r=n("lktj"),i=n("TcQ7"),s=n("NpIQ").f;e.exports=function(e){return function(t){for(var n,a=i(t),l=r(a),c=l.length,u=0,d=[];c>u;)n=l[u++],o&&!s.call(a,n)||d.push(e?[n,a[n]]:a[n]);return d}}},oNmr:function(e,t,n){n("9Bbf")("Set")},oZJ6:function(e,t){},oeOm:function(e,t,n){var o=n("7Doy");e.exports=function(e,t){return new(o(e))(t)}},orxT:function(e,t){},pPW7:function(e,t,n){n("M6a0"),n("zQR9"),n("+tPU"),n("ttyz"),n("BDhv"),n("oNmr"),n("ioQ5"),e.exports=n("FeBl").Set},qOJP:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},qo66:function(e,t,n){"use strict";var o=n("7KvD"),r=n("kM2E"),i=n("06OY"),s=n("S82l"),a=n("hJx8"),l=n("xH/j"),c=n("NWt+"),u=n("2KxR"),d=n("EqjI"),p=n("e6n0"),h=n("evD5").f,f=n("ALrJ")(0),m=n("+E39");e.exports=function(e,t,n,g,v,y){var w=o[e],b=w,_=v?"set":"add",k=b&&b.prototype,C={};return m&&"function"==typeof b&&(y||k.forEach&&!s(function(){(new b).entries().next()}))?(b=t(function(t,n){u(t,b,e,"_c"),t._c=new w,void 0!=n&&c(n,v,t[_],t)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in k&&(!y||"clear"!=e)&&a(b.prototype,e,function(n,o){if(u(this,b,e),!t&&y&&!d(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,o);return t?this:r})}),y||h(b.prototype,"size",{get:function(){return this._c.size}})):(b=g.getConstructor(t,e,v,_),l(b.prototype,n),i.NEED=!0),p(b,e),C[e]=b,r(r.G+r.W+r.F,C),y||g.setStrong(b,e,v),b}},"tN/a":function(e,t){},tnNP:function(e,t,n){e.exports=n.p+"static/img/icon-books.1d8c262.png"},ttyz:function(e,t,n){"use strict";var o=n("9C8M"),r=n("LIJb");e.exports=n("qo66")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return o.def(r(this,"Set"),e=0===e?0:e,e)}},o)},wEtr:function(e,t,n){n("gSvA"),e.exports=n("FeBl").Object.entries},"x/Fh":function(e,t){},xCWu:function(e,t,n){(function(e,o){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var s="object"==typeof o&&o;s.global!==s&&s.window!==s&&s.self;var a,l=2147483647,c=36,u=1,d=26,p=38,h=700,f=72,m=128,g="-",v=/^xn--/,y=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-u,k=Math.floor,C=String.fromCharCode;function x(e){throw new RangeError(b[e])}function T(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function S(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),o+T((e=e.replace(w,".")).split("."),t).join(".")}function I(e){for(var t,n,o=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--):o.push(t);return o}function F(e){return T(e,function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)}).join("")}function $(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function G(e,t,n){var o=0;for(e=n?k(e/h):e>>1,e+=k(e/t);e>_*d>>1;o+=c)e=k(e/_);return k(o+(_+1)*e/(e+p))}function O(e){var t,n,o,r,i,s,a,p,h,v,y,w=[],b=e.length,_=0,C=m,T=f;for((n=e.lastIndexOf(g))<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&x("not-basic"),w.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<b;){for(i=_,s=1,a=c;r>=b&&x("invalid-input"),((p=(y=e.charCodeAt(r++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||p>k((l-_)/s))&&x("overflow"),_+=p*s,!(p<(h=a<=T?u:a>=T+d?d:a-T));a+=c)s>k(l/(v=c-h))&&x("overflow"),s*=v;T=G(_-i,t=w.length+1,0==i),k(_/t)>l-C&&x("overflow"),C+=k(_/t),_%=t,w.splice(_++,0,C)}return F(w)}function N(e){var t,n,o,r,i,s,a,p,h,v,y,w,b,_,T,S=[];for(w=(e=I(e)).length,t=m,n=0,i=f,s=0;s<w;++s)(y=e[s])<128&&S.push(C(y));for(o=r=S.length,r&&S.push(g);o<w;){for(a=l,s=0;s<w;++s)(y=e[s])>=t&&y<a&&(a=y);for(a-t>k((l-n)/(b=o+1))&&x("overflow"),n+=(a-t)*b,t=a,s=0;s<w;++s)if((y=e[s])<t&&++n>l&&x("overflow"),y==t){for(p=n,h=c;!(p<(v=h<=i?u:h>=i+d?d:h-i));h+=c)T=p-v,_=c-v,S.push(C($(v+T%_,0))),p=k(T/_);S.push(C($(p,0))),i=G(n,b,o==r),n=0,++o}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:I,encode:F},decode:O,encode:N,toASCII:function(e){return S(e,function(e){return y.test(e)?"xn--"+N(e):e})},toUnicode:function(e){return S(e,function(e){return v.test(e)?O(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()}).call(t,n("3IRH")(e),n("DuR2"))},xaZU:function(e,t,n){"use strict";var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(s(e),function(s){var a=encodeURIComponent(o(s))+n;return r(e[s])?i(e[s],function(e){return a+encodeURIComponent(o(e))}).join(t):a+encodeURIComponent(o(e[s]))}).join(t):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},zUU8:function(e,t){}});