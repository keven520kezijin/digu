webpackJsonp([16],{WX11:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),r=i.n(a),n=(i("DHmE"),i("WfbR"),{name:"hotwordYhView",components:{},data:function(){return{memberId:"",searchForm:{queryKey:""},disabled:!0,multipleSelection:[],sortList:[],cur_page:1,pagination:{show:!0,total:0,pageIndex:1,pageSize:10},tableData:[],fullScreenLoading:null,validIndustryListData:[],copyVisible:!1,copyForm:{dictionaryId:"",dictionaryName:"",industryScope:""},copyFormRules:{dictionaryName:[{required:!0,message:"词典名称不能为空！"}],industryScope:[{required:!0,message:"行业领域不能为空！"}]},height:0}},created:function(){this.memberId=this.$route.params.id;var e=document.documentElement.clientHeight;this.height=e-310,this.handleQueryDictionaryList()},computed:{},methods:{handleBack:function(){this.$router.push("/hotword?type=2&active=2")},handleSearch:function(){if(!this.searchForm.queryKey)return this.$message.error("请输入关键字！"),!1;this.handleQueryDictionaryList()},handleSearchChange:function(e){e||this.handleQueryDictionaryList()},handleSortChange:function(e){var t=!0;t="ascending"==e.order,this.sortList=[{propertyName:e.prop,ascendingFlag:t}],this.handleQueryDictionaryList()},handleSelectionChange:function(e){this.multipleSelection=[],this.multipleSelection=e,this.multipleSelection.length?this.disabled=!1:this.disabled=!0},handleCurrentChange:function(e){this.cur_page=e,this.handleQueryDictionaryList()},handleSizeChange:function(e){this.pagination.pageSize=e,this.handleQueryDictionaryList()},handleQueryDictionaryList:function(e){var t=this,i=$.extend({},{dictionaryStatuses:[2,4],dictionaryType:2,currentPage:this.cur_page-1,pageSize:this.pagination.pageSize},e);this.searchForm.queryKey&&(i.queryKey=this.searchForm.queryKey),this.sortList&&(i.sortList=this.sortList),this.memberId&&(i.memberIds=[this.memberId]),$.post(this.$baseUrl+"services/hotWord/queryDictionaryList.json",r()(i)).then(function(e){"0000"===e.resultMessageEnum?(t.tableData=e.returnObject.recordList,t.pagination.total=e.returnObject.totalNumber):t.$message.error(e.errorInfoList[0].errorMessage)})},handleView:function(e,t){this.$router.push("/hotwordYhView/"+t.id+"/"+this.memberId)},handleCopy:function(e,t){this.copyForm.dictionaryId=t.id,this.copyForm.dictionaryName=t.dictionaryName,this.copyForm.industryScope=t.industryScope,this.queryValidIndustryList(),this.copyVisible=!0},handleConfirmCopy:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i={id:t.copyForm.dictionaryId,dictionaryName:t.copyForm.dictionaryName,industryScope:t.copyForm.industryScope};$.post(t.$baseUrl+"services/hotWord/copyDictionary.json",r()(i)).then(function(e){"0000"==e.resultMessageEnum?(t.copyVisible=!1,t.$message.success("复制词典成功！")):t.$message.error(e.errorInfoList[0].errorMessage)})})},handleDownload:function(){var e=this,t=[];this.multipleSelection.length&&this.multipleSelection.forEach(function(e){t.push(e.id)});var i={dictionaryIds:t};$.post(this.$baseUrl+"services/file/createExportHotWordTextFile.json",r()(i)).then(function(t){"0000"==t.resultMessageEnum?window.location.href=e.$baseUrl+"services/file/downloadCompressFile.html?filePath="+t.returnObject.filePath:e.$message.error(t.errorInfoList[0].errorMessage)})},queryValidIndustryList:function(){var e=this;$.get(this.$baseUrl+"services/intention/queryValidIndustryList.json").then(function(t){"0000"==t.resultMessageEnum&&(e.validIndustryListData=t.returnObject)})},openFullScreenLoading:function(e){this.fullScreenLoading=this.$loading({lock:!0,text:e+"...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}},watch:{}}),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-admin"},[i("div",{staticClass:"admin-page"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("管理中心")]),e._v(" "),i("el-breadcrumb-item",[e._v("热词管理")]),e._v(" "),i("el-breadcrumb-item",[e._v("用户词典")]),e._v(" "),i("el-breadcrumb-item",[e._v("查看词典")]),e._v(" "),i("el-breadcrumb-item",[e._v("查看")])],1),e._v(" "),i("el-button",{staticClass:"back-btn",on:{click:e.handleBack}},[e._v("返回")])],1),e._v(" "),i("div",{staticClass:"admin-body"},[i("div",{staticClass:"speech-tab-pane"},[i("el-row",[i("el-form",{ref:"searchForm",attrs:{model:e.searchForm,inline:!0}},[i("el-form-item",{attrs:{label:"关键词:",prop:"queryKey"}},[i("el-input",{attrs:{clearable:"",placeholder:"词典名称/词典ID"},on:{change:e.handleSearchChange},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.handleSearch(t):null}},model:{value:e.searchForm.queryKey,callback:function(t){e.$set(e.searchForm,"queryKey",t)},expression:"searchForm.queryKey"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),i("el-row",{staticStyle:{"padding-bottom":"20px"}},[i("el-col",[i("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.handleDownload}},[e._v("下载词库")])],1)],1),e._v(" "),i("el-row",[i("el-table",{staticStyle:{width:"100%","border-left":"1px solid #ebeef5"},attrs:{data:e.tableData,height:e.height},on:{"sort-change":e.handleSortChange,"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"asrId",width:"240",label:"词典ID"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"dictionaryName",label:"词典名称"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"asrId",width:"180",label:"App Key"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"editTime",width:"180",label:"更新时间"}}),e._v(" "),i("el-table-column",{attrs:{width:"120",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"operation-box"},[i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleView(t.$index,t.row)}}},[e._v("查看")]),e._v(" "),i("span",{staticClass:"line"},[e._v("|")]),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.handleCopy(t.$index,t.row)}}},[e._v("复制")])],1)]}}])})],1)],1),e._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total,"page-size":e.pagination.pageSize,"page-sizes":[10,50,100,200]},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),i("el-dialog",{attrs:{title:"复制词典到行业词典",visible:e.copyVisible,width:"460px"},on:{"update:visible":function(t){e.copyVisible=t}}},[i("div",{staticClass:"addIntent-box"},[i("el-form",{ref:"copyForm",attrs:{model:e.copyForm,rules:e.copyFormRules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"词典名称：",prop:"dictionaryName"}},[i("el-input",{attrs:{placeholder:"请输入词典名称"},model:{value:e.copyForm.dictionaryName,callback:function(t){e.$set(e.copyForm,"dictionaryName",t)},expression:"copyForm.dictionaryName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"行业领域：",prop:"industryScope"}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择行业领域"},model:{value:e.copyForm.industryScope,callback:function(t){e.$set(e.copyForm,"industryScope",t)},expression:"copyForm.industryScope"}},e._l(e.validIndustryListData,function(e){return i("el-option",{key:e.id,attrs:{label:e.industryName,value:e.id}})}),1)],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.copyVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleConfirmCopy("copyForm")}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var s=i("VU/8")(n,o,!1,function(e){i("aTZD")},"data-v-c291c2f6",null);t.default=s.exports},aTZD:function(e,t){}});